"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6408],{6408:(C,h,i)=>{i.r(h),i.d(h,{AgendaPageModule:()=>T});var p=i(177),g=i(4341),s=i(4742),l=i(8464),m=i(1547),b=i(8986),d=i(467),e=i(4438);function f(r,c){if(1&r&&(e.j41(0,"ion-row")(1,"ion-col"),e.nrm(2,"tc-tipos",8),e.k0s()()),2&r){const a=e.XpG();e.R7$(2),e.Y8G("columns",a.columns)("entityName","casa/evento_tipo")("user",a.user)("tableRefresh",a.tableRefresh)}}function _(r,c){if(1&r){const a=e.RV6();e.j41(0,"ion-row",9)(1,"ion-col",6)(2,"ion-grid")(3,"ion-row")(4,"ion-col",10)(5,"ion-checkbox",11),e.mxI("ngModelChange",function(n){e.eBV(a);const t=e.XpG();return e.DH7(t.turnos.carmen,n)||(t.turnos.carmen=n),e.Njj(n)}),e.bIt("ionChange",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.turnos.aure=!n.turnos.carmen)}),e.EFF(6,"Carmen"),e.k0s()(),e.j41(7,"ion-col",12)(8,"ion-checkbox",11),e.mxI("ngModelChange",function(n){e.eBV(a);const t=e.XpG();return e.DH7(t.turnos.aure,n)||(t.turnos.aure=n),e.Njj(n)}),e.bIt("ionChange",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.turnos.carmen=!n.turnos.aure)}),e.EFF(9,"Aure"),e.k0s()()(),e.j41(10,"ion-row")(11,"ion-col",6)(12,"ion-radio-group",13),e.mxI("ngModelChange",function(n){e.eBV(a);const t=e.XpG();return e.DH7(t.tipoturno,n)||(t.tipoturno=n),e.Njj(n)}),e.j41(13,"ion-grid")(14,"ion-row")(15,"ion-col",14)(16,"ion-label"),e.EFF(17,"D\xeda"),e.k0s(),e.nrm(18,"ion-radio",15),e.k0s(),e.j41(19,"ion-col",14)(20,"ion-label"),e.EFF(21,"Semana"),e.k0s(),e.nrm(22,"ion-radio",16),e.k0s(),e.j41(23,"ion-col",14)(24,"ion-label"),e.EFF(25,"Completo"),e.k0s(),e.nrm(26,"ion-radio",17),e.k0s()()()()()()()()()}if(2&r){const a=e.XpG();e.R7$(5),e.R50("ngModel",a.turnos.carmen),e.R7$(3),e.R50("ngModel",a.turnos.aure),e.R7$(4),e.R50("ngModel",a.tipoturno)}}const v=[{path:"",component:(()=>{var r;class c extends l.BasePage{constructor(o){super(o),this.basePageService=o,this.buttonsTab={},this.turnos={},this.columns=[{name:"Descripci\xf3n",prop:"descripcion",type:"text",OrderInit:"ASC"},{name:"Color",prop:"color",type:"text"},{name:"BK Color",prop:"bkcolor",type:"text"}],this.entityName="casa/gasto"}ngOnInit(){var o=this;return(0,d.A)(function*(){o.Init(),o.getEventos(),o.buttonTab("turnos")})()}handleRefresh(o){var n=this;return(0,d.A)(function*(){n.getEventos(),o.target.complete()})()}getEventos(){var o=this;return(0,d.A)(function*(){o.isLoading=!0;let n=new l.classHttp("get","casa/evento",null,"",null,null);try{let t=yield o.myHttpService.ejecuteURL(n);o.lstEventos=null==t?void 0:t.data}catch(t){o.utilService.message(l.typeMessage.danger,t.message)}finally{o.isLoading=!1}})()}refreshSelectedDate(o){var n=this;return(0,d.A)(function*(){if(n.buttonsTab.turnos&&(n.turnos.carmen||n.turnos.aure)&&n.tipoturno){const t={};t.eventotipoid=n.turnos.aure?"2":"3",t.periodoturno=n.tipoturno,t.fecha=n.utilService.toISOString(new Date(o)),n.isLoading=!0,yield n.myHttpService_EXEC.Save("post","casa/evento",t,n.pk),n.getEventos()}})()}refreshEnvents(o){}buttonTab(o){const n=this.buttonsTab[o];for(const t in this.buttonsTab)this.buttonsTab[t]=!1;n||(this.buttonsTab[o]=!this.buttonsTab.hasOwnProperty(o)||!this.buttonsTab[o])}}return(r=c).\u0275fac=function(o){return new(o||r)(e.rXU(l.BasePageService))},r.\u0275cmp=e.VBU({type:r,selectors:[["agenda"]],features:[e.Vt3],decls:15,vars:11,consts:[["slot","fixed",3,"ionRefresh"],["slot","bottom"],[3,"click","selected"],[1,"router-outlet"],[4,"ngIf"],["class","turno",4,"ngIf"],[1,"col-12"],[3,"refreshEnvents","refreshSelectedDate","disabled","lan","eventSource"],[3,"columns","entityName","user","tableRefresh"],[1,"turno"],[1,"col-6",2,"background-color","lightgreen"],[3,"ngModelChange","ionChange","ngModel"],[1,"col-6",2,"background-color","lightblue"],[3,"ngModelChange","ngModel"],[1,"col-4"],["value","d"],["value","s"],["value","c"]],template:function(o,n){1&o&&(e.j41(0,"ion-refresher",0),e.bIt("ionRefresh",function(u){return n.handleRefresh(u)}),e.nrm(1,"ion-refresher-content"),e.k0s(),e.j41(2,"ion-tab-bar",1)(3,"ion-tab-button",2),e.bIt("click",function(){return n.buttonTab("tipoeventos")}),e.nrm(4,"icon-remixicon"),e.EFF(5," Tipo "),e.k0s(),e.j41(6,"ion-tab-button",2),e.bIt("click",function(){return n.buttonTab("turnos")}),e.nrm(7,"icon-remixicon"),e.EFF(8," Turnos "),e.k0s()(),e.j41(9,"ion-grid",3),e.DNE(10,f,3,4,"ion-row",4)(11,_,27,3,"ion-row",5),e.j41(12,"ion-row")(13,"ion-col",6)(14,"my-calendar",7),e.bIt("refreshEnvents",function(u){return n.refreshEnvents(u)})("refreshSelectedDate",function(u){return n.refreshSelectedDate(u)}),e.k0s()()()()),2&o&&(e.R7$(3),e.Y8G("selected",n.buttonsTab.tipoeventos),e.R7$(),e.HbH("ri-image-add-fill"),e.R7$(2),e.Y8G("selected",n.buttonsTab.turnos),e.R7$(),e.HbH("ri-user-shared-line"),e.R7$(3),e.Y8G("ngIf",n.buttonsTab.tipoeventos),e.R7$(),e.Y8G("ngIf",n.buttonsTab.turnos),e.R7$(3),e.Y8G("disabled",n.isLoading)("lan","ES")("eventSource",n.lstEventos))},dependencies:[p.bT,g.BC,g.vS,s.eY,s.hU,s.lO,s.he,s.KO,s.f0,s.To,s.Ki,s.ln,s.Jq,s.qW,s.hB,s.Je,l.Tc_tipoComponent,l.CalendarComponent,l.IconremixiconComponent],styles:[".turno[_ngcontent-%COMP%]{font-size:12px;background-color:#d3d3d3}"]}),c})()}];let T=(()=>{var r;class c{}return(r=c).\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[p.MD,g.YN,g.X1,s.bv,b.iI.forChild(v),l.SharedComponentsModule,m.bG,l.CalendarComponentModule,l.IconremixiconComponentModule]}),c})()}}]);