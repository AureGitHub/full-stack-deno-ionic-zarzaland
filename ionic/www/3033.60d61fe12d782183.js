"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3033],{3033:(qe,b,u)=>{u.r(b),u.d(b,{UsersPagePageModule:()=>Ye});var h=u(6814),m=u(95),r=u(2511),v=u(5861),p=u(4258),e=u(6689),S=u(5875);function x(i,l){if(1&i){const s=e.EpF();e.TgZ(0,"ion-card",1)(1,"ion-card-header")(2,"ion-card-title"),e._uU(3),e.qZA(),e.TgZ(4,"ion-card-subtitle"),e._uU(5),e.ALo(6,"number"),e.qZA()(),e.TgZ(7,"ion-card-content")(8,"form",2)(9,"ion-list")(10,"ion-item")(11,"h2"),e._uU(12,"Incrementar saldo"),e.qZA()(),e.TgZ(13,"ion-item"),e._UZ(14,"ion-input",3),e.qZA(),e.TgZ(15,"ion-item"),e._UZ(16,"br"),e.TgZ(17,"base-button-guardar",4),e.NdJ("click",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.onSubmit())}),e.qZA()()()()(),e._UZ(18,"br")(19,"br"),e.TgZ(20,"base-button-cancelar",5),e.NdJ("click",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.cancel())}),e.qZA()()}if(2&i){const s=e.oxw();e.s9C("color",(null==s.user?null:s.user.saldo)<1?"danger":(null==s.user?null:s.user.saldo)>1&&(null==s.user?null:s.user.saldo)<2?"warning":"primary"),e.xp6(3),e.Oqu(null==s.user?null:s.user.name),e.xp6(2),e.hij("Saldo actual : ",e.lcZ(6,6,null==s.user?null:s.user.saldo),""),e.xp6(3),e.Q6J("formGroup",s.formGroup),e.xp6(9),e.Q6J("isSaving",s.isSaving)("valid",s.formGroup.valid)}}let Z=(()=>{var i;class l{set SetUser(t){t&&(this.user=t,this.createForm())}constructor(t,n){this.myHttpService=t,this.utilService=n,this.saveEvent=new e.vpe,this.cancelEvent=new e.vpe,this.isSaving=!1}ngOnInit(){}createForm(){var t;this.formGroup=new m.cw({id:new m.NI("",[m.kI.required]),importe:new m.NI("",[m.kI.required])}),this.formGroup.controls.id.setValue(null===(t=this.user)||void 0===t?void 0:t.id)}onSubmit(){var t=this;return(0,v.Z)(function*(){t.isSaving=!0;try{const n=new p.classHttp("post","user",null,"addSaldo",t.formGroup.value),a=yield t.myHttpService.ejecuteURL(n);t.isSaving=!1,a&&(t.utilService.message(p.typeMessage.success,"Guardado correctamente"),t.user=null,t.saveEvent.emit(!0))}catch{t.isSaving=!1}})()}cancel(){this.user=null,this.cancelEvent.emit(!0)}}return(i=l).\u0275fac=function(t){return new(t||i)(e.Y36(p.MyHttpService),e.Y36(p.UtilService))},i.\u0275cmp=e.Xpm({type:i,selectors:[["add-saldo"]],inputs:{SetUser:"SetUser"},outputs:{saveEvent:"saveEvent",cancelEvent:"cancelEvent"},decls:2,vars:1,consts:[[3,"isOpen","willDismiss"],[3,"color"],[3,"formGroup"],["label","importe","formControlName","importe","type","number","placeholder","000"],[3,"isSaving","valid","click"],[3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-modal",0),e.NdJ("willDismiss",function(){return n.cancel()}),e.YNc(1,x,21,8,"ng-template"),e.qZA()),2&t&&e.Q6J("isOpen",null!=n.user)},dependencies:[r.PM,r.FN,r.Zi,r.tO,r.Dq,r.pK,r.Ie,r.q_,r.ki,r.as,m._Y,m.JJ,m.JL,m.sg,m.u,p.ButtonGuardarComponent,p.ButtonCancelarComponent,h.JJ],styles:["ion-checkbox[_ngcontent-%COMP%]{--size: 32px;--checkbox-background-checked: #6815ec}ion-checkbox[_ngcontent-%COMP%]::part(container){border-radius:6px;border:2px solid #6815ec}"]}),l})();var o=u(1180);const A=["searchbarComponent"];function w(i,l){if(1&i&&e._UZ(0,"span",11),2&i){const s=e.oxw(2);e.Q6J("ngTemplateOutlet",s.selectComponent.closeButtonTemplate)}}function O(i,l){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const s=e.oxw(2);e.xp6(1),e.hij(" ",s.selectComponent.closeButtonText," ")}}function M(i,l){if(1&i&&e._UZ(0,"span",11),2&i){const s=e.oxw(2);e.Q6J("ngTemplateOutlet",s.selectComponent.titleTemplate)}}function y(i,l){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const s=e.oxw(2);e.xp6(1),e.hij(" ",s.selectComponent.label," ")}}function F(i,l){if(1&i){const s=e.EpF();e.TgZ(0,"ion-toolbar",8)(1,"ion-buttons",9)(2,"ion-button",10),e.NdJ("click",function(){e.CHM(s);const n=e.oxw();return e.KtG(n.selectComponent._close())}),e.YNc(3,w,1,1,"span",1),e.YNc(4,O,2,1,"span",2),e.qZA()(),e.TgZ(5,"ion-title"),e.YNc(6,M,1,1,"span",1),e.YNc(7,y,2,1,"span",2),e.qZA()()}if(2&i){const s=e.oxw();e.Q6J("color",s.selectComponent.headerColor?s.selectComponent.headerColor:null),e.xp6(1),e.Q6J("slot",s.selectComponent.closeButtonSlot),e.xp6(2),e.Q6J("ngIf",s.selectComponent.closeButtonTemplate),e.xp6(1),e.Q6J("ngIf",!s.selectComponent.closeButtonTemplate),e.xp6(2),e.Q6J("ngIf",s.selectComponent.titleTemplate),e.xp6(1),e.Q6J("ngIf",!s.selectComponent.titleTemplate)}}function E(i,l){if(1&i&&e._UZ(0,"div",11),2&i){const s=e.oxw();e.Q6J("ngTemplateOutlet",s.selectComponent.headerTemplate)}}function D(i,l){if(1&i){const s=e.EpF();e.TgZ(0,"ion-searchbar",14,15),e.NdJ("ngModelChange",function(n){e.CHM(s);const a=e.oxw(2);return e.KtG(a.selectComponent._searchText=n)})("ionInput",function(){e.CHM(s);const n=e.oxw(2);return e.KtG(n.selectComponent._filterItems())})("ionClear",function(){e.CHM(s);const n=e.oxw(2);return e.KtG(n.selectComponent._onSearchbarClear())}),e.qZA()}if(2&i){const s=e.oxw(2);e.Q6J("ngModel",s.selectComponent._searchText)("placeholder",s.selectComponent.searchPlaceholder)("debounce",s.selectComponent.searchDebounce)}}function J(i,l){if(1&i&&(e.TgZ(0,"div",16),e._UZ(1,"div",11),e.qZA()),2&i){const s=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",s.selectComponent.messageTemplate)}}function B(i,l){if(1&i&&(e.TgZ(0,"ion-toolbar"),e.YNc(1,D,2,3,"ion-searchbar",12),e.YNc(2,J,2,1,"div",13),e.qZA()),2&i){const s=e.oxw();e.xp6(1),e.Q6J("ngIf",s.selectComponent.canSearch),e.xp6(1),e.Q6J("ngIf",s.selectComponent.messageTemplate)}}function N(i,l){1&i&&(e.TgZ(0,"div",17),e._UZ(1,"div",18)(2,"ion-spinner"),e.qZA())}const I=function(i){return{group:i}};function Q(i,l){if(1&i&&e._UZ(0,"span",25),2&i){const s=e.oxw(2).$implicit,t=e.oxw(2);e.Q6J("ngTemplateOutlet",t.selectComponent.groupTemplate)("ngTemplateOutletContext",e.VKq(2,I,s))}}function V(i,l){if(1&i&&(e.TgZ(0,"ion-label"),e._uU(1),e.qZA()),2&i){const s=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",s.text," ")}}function U(i,l){if(1&i&&(e.TgZ(0,"div",26),e._UZ(1,"div",25),e.qZA()),2&i){const s=e.oxw(2).$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.selectComponent.groupEndTemplate)("ngTemplateOutletContext",e.VKq(2,I,s))}}function G(i,l){if(1&i&&(e.TgZ(0,"ion-item-divider",8),e.YNc(1,Q,1,4,"span",23),e.YNc(2,V,2,1,"ion-label",2),e.YNc(3,U,2,4,"div",24),e.qZA()),2&i){const s=e.oxw(3);e.Q6J("color",s.selectComponent.groupColor?s.selectComponent.groupColor:null),e.xp6(1),e.Q6J("ngIf",s.selectComponent.groupTemplate),e.xp6(1),e.Q6J("ngIf",!s.selectComponent.groupTemplate),e.xp6(1),e.Q6J("ngIf",s.selectComponent.groupEndTemplate)}}const g=function(i,l){return{item:i,isItemSelected:l}};function k(i,l){if(1&i&&e._UZ(0,"span",25),2&i){const s=e.oxw().$implicit,t=e.oxw(3);e.Q6J("ngTemplateOutlet",t.selectComponent.itemTemplate)("ngTemplateOutletContext",e.WLB(2,g,s,t.selectComponent._isItemSelected(s)))}}function P(i,l){if(1&i&&(e.TgZ(0,"ion-label"),e._uU(1),e.qZA()),2&i){const s=e.oxw().$implicit,t=e.oxw(3);e.xp6(1),e.hij(" ",t.selectComponent._formatItem(s)," ")}}function H(i,l){if(1&i&&(e.TgZ(0,"div",26),e._UZ(1,"div",25),e.qZA()),2&i){const s=e.oxw().$implicit,t=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t.selectComponent.itemEndTemplate)("ngTemplateOutletContext",e.WLB(2,g,s,t.selectComponent._isItemSelected(s)))}}function Y(i,l){if(1&i&&e._UZ(0,"span",25),2&i){const s=e.oxw().$implicit,t=e.oxw(3);e.Q6J("ngTemplateOutlet",t.selectComponent.itemIconTemplate)("ngTemplateOutletContext",e.WLB(2,g,s,t.selectComponent._isItemSelected(s)))}}function q(i,l){if(1&i&&e._UZ(0,"ion-icon",30),2&i){const s=e.oxw().$implicit,t=e.oxw(3);e.Q6J("name",t.selectComponent._isItemSelected(s)?"checkmark-circle":"radio-button-off")("color",t.selectComponent._isItemSelected(s)?"primary":null)("slot",t.selectComponent.itemIconSlot)}}function L(i,l){if(1&i){const s=e.EpF();e.TgZ(0,"ion-button",31),e.NdJ("click",function(n){e.CHM(s);const a=e.oxw().$implicit,c=e.oxw(3);return e.KtG(c.selectComponent._saveItem(n,a))}),e._UZ(1,"ion-icon",32),e.qZA()}}function R(i,l){if(1&i){const s=e.EpF();e.TgZ(0,"ion-button",31),e.NdJ("click",function(n){e.CHM(s);const a=e.oxw().$implicit,c=e.oxw(3);return e.KtG(c.selectComponent._deleteItemClick(n,a))}),e._UZ(1,"ion-icon",33),e.qZA()}}const j=function(i,l){return{"ionic-selectable-item-is-selected":i,"ionic-selectable-item-is-disabled":l}};function z(i,l){if(1&i){const s=e.EpF();e.TgZ(0,"ion-item",27),e.NdJ("click",function(){const a=e.CHM(s).$implicit,c=e.oxw(3);return e.KtG(c.selectComponent._select(a))}),e.YNc(1,k,1,5,"span",23),e.YNc(2,P,2,1,"ion-label",2),e.YNc(3,H,2,5,"div",24),e.YNc(4,Y,1,5,"span",23),e.YNc(5,q,1,3,"ion-icon",28),e.YNc(6,L,2,0,"ion-button",29),e.YNc(7,R,2,0,"ion-button",29),e.qZA()}if(2&i){const s=l.$implicit,t=e.oxw(3);e.Q6J("ngClass",e.WLB(9,j,t.selectComponent._isItemSelected(s),t.selectComponent._isItemDisabled(s)))("disabled",t.selectComponent._isItemDisabled(s)),e.xp6(1),e.Q6J("ngIf",t.selectComponent.itemTemplate),e.xp6(1),e.Q6J("ngIf",!t.selectComponent.itemTemplate),e.xp6(1),e.Q6J("ngIf",t.selectComponent.itemEndTemplate),e.xp6(1),e.Q6J("ngIf",t.selectComponent.itemIconTemplate),e.xp6(1),e.Q6J("ngIf",!t.selectComponent.itemIconTemplate),e.xp6(1),e.Q6J("ngIf",t.selectComponent.canSaveItem),e.xp6(1),e.Q6J("ngIf",t.selectComponent.canDeleteItem)}}function K(i,l){if(1&i&&(e.TgZ(0,"ion-item-group",21),e.YNc(1,G,4,4,"ion-item-divider",0),e.YNc(2,z,8,12,"ion-item",22),e.qZA()),2&i){const s=l.$implicit,t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.selectComponent._hasGroups),e.xp6(1),e.Q6J("ngForOf",s.items)}}function $(i,l){if(1&i&&(e.TgZ(0,"ion-list",19),e.YNc(1,K,3,2,"ion-item-group",20),e.qZA()),2&i){const s=e.oxw();e.xp6(1),e.Q6J("ngForOf",s.selectComponent._filteredGroups)}}function W(i,l){if(1&i&&e._UZ(0,"span",11),2&i){const s=e.oxw(2);e.Q6J("ngTemplateOutlet",s.selectComponent.searchFailTemplate)}}function X(i,l){if(1&i&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&i){const s=e.oxw(2);e.xp6(1),e.hij(" ",s.selectComponent.searchFailText," ")}}function ee(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,W,1,1,"span",1),e.YNc(2,X,2,1,"div",34),e.qZA()),2&i){const s=e.oxw();e.xp6(1),e.Q6J("ngIf",s.selectComponent.searchFailTemplate),e.xp6(1),e.Q6J("ngIf",!s.selectComponent.searchFailTemplate)}}const te=function(i){return{"top.px":i}},ie=function(i){return{height:i}},ne=function(i,l){return{item:i,isAdd:l}};function se(i,l){if(1&i&&(e.TgZ(0,"div",36)(1,"div",37),e._UZ(2,"span",25),e.qZA()()),2&i){const s=e.oxw();e.Q6J("ngStyle",e.VKq(4,te,s._header.offsetHeight)),e.xp6(1),e.Q6J("ngStyle",e.VKq(6,ie,s.selectComponent._addItemTemplateFooterHeight)),e.xp6(1),e.Q6J("ngTemplateOutlet",s.selectComponent.addItemTemplate)("ngTemplateOutletContext",e.WLB(8,ne,s.selectComponent._itemToAdd,null===s.selectComponent._itemToAdd))}}function oe(i,l){if(1&i){const s=e.EpF();e.TgZ(0,"ion-col")(1,"ion-button",39),e.NdJ("click",function(){e.CHM(s);const n=e.oxw(3);return e.KtG(n.selectComponent._clear())}),e._uU(2),e.qZA()()}if(2&i){const s=e.oxw(3);e.xp6(1),e.Q6J("disabled",!s.selectComponent._selectedItems.length),e.xp6(1),e.hij(" ",s.selectComponent.clearButtonText," ")}}function le(i,l){if(1&i){const s=e.EpF();e.TgZ(0,"ion-col")(1,"ion-button",40),e.NdJ("click",function(){e.CHM(s);const n=e.oxw(3);return e.KtG(n.selectComponent._addItemClick())}),e._uU(2),e.qZA()()}if(2&i){const s=e.oxw(3);e.xp6(2),e.hij(" ",s.selectComponent.addButtonText," ")}}function ae(i,l){if(1&i){const s=e.EpF();e.TgZ(0,"ion-col")(1,"ion-button",39),e.NdJ("click",function(){e.CHM(s);const n=e.oxw(3);return e.KtG(n.selectComponent._confirm())}),e._uU(2),e.qZA()()}if(2&i){const s=e.oxw(3);e.xp6(1),e.Q6J("disabled",!s.selectComponent.isConfirmButtonEnabled),e.xp6(1),e.hij(" ",s.selectComponent.confirmButtonText," ")}}function ce(i,l){if(1&i&&(e.TgZ(0,"ion-toolbar")(1,"ion-row"),e.YNc(2,oe,3,2,"ion-col",2),e.YNc(3,le,3,1,"ion-col",2),e.YNc(4,ae,3,2,"ion-col",2),e.qZA()()),2&i){const s=e.oxw(2);e.xp6(2),e.Q6J("ngIf",s.selectComponent.canClear),e.xp6(1),e.Q6J("ngIf",s.selectComponent.canAddItem),e.xp6(1),e.Q6J("ngIf",s.selectComponent.isMultiple||s.selectComponent.hasConfirmButton)}}function re(i,l){if(1&i&&e._UZ(0,"div",11),2&i){const s=e.oxw(2);e.Q6J("ngTemplateOutlet",s.selectComponent.footerTemplate)}}const _e=function(i){return{visibility:i}};function me(i,l){if(1&i&&(e.TgZ(0,"ion-footer",38),e.YNc(1,ce,5,3,"ion-toolbar",2),e.YNc(2,re,1,1,"div",1),e.qZA()),2&i){const s=e.oxw();e.Q6J("ngStyle",e.VKq(3,_e,s.selectComponent._isFooterVisible?"initial":"hidden")),e.xp6(1),e.Q6J("ngIf",!s.selectComponent.footerTemplate),e.xp6(1),e.Q6J("ngIf",s.selectComponent.footerTemplate)}}const C=function(i){return{value:i}};function de(i,l){if(1&i&&e._UZ(0,"div",8),2&i){const s=e.oxw();e.Q6J("ngTemplateOutlet",s.valueTemplate)("ngTemplateOutletContext",e.VKq(2,C,s._valueItems))}}function ue(i,l){if(1&i&&(e.TgZ(0,"div",9),e._UZ(1,"div",8),e.qZA()),2&i){const s=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",s.valueTemplate)("ngTemplateOutletContext",e.VKq(2,C,s._valueItems[0]))}}function pe(i,l){if(1&i&&(e.TgZ(0,"div",9),e._uU(1),e.qZA()),2&i){const s=l.$implicit,t=e.oxw(2);e.xp6(1),e.hij(" ",t._formatValueItem(s)," ")}}function he(i,l){if(1&i&&(e.TgZ(0,"span"),e.YNc(1,pe,2,1,"div",10),e.qZA()),2&i){const s=e.oxw();e.xp6(1),e.Q6J("ngForOf",s._valueItems)}}function fe(i,l){if(1&i&&(e.TgZ(0,"div",9),e._UZ(1,"div",11),e.qZA()),2&i){const s=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",s.placeholderTemplate)}}function ge(i,l){if(1&i&&(e.TgZ(0,"div",9),e._uU(1),e.qZA()),2&i){const s=e.oxw();e.xp6(1),e.hij(" ",s.placeholder," ")}}function be(i,l){1&i&&(e.TgZ(0,"span"),e._uU(1,"\xa0"),e.qZA())}function ve(i,l){if(1&i&&(e.TgZ(0,"div",12),e._UZ(1,"div",11),e.qZA()),2&i){const s=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",s.iconTemplate)}}function Ie(i,l){1&i&&(e.TgZ(0,"div",13),e._UZ(1,"div",14),e.qZA())}let Ce=(()=>{var i;class l{}return i=l,(0,o.Z)(l,"\u0275fac",function(t){return new(t||i)}),(0,o.Z)(l,"\u0275dir",e.lG2({type:i,selectors:[["","ionicSelectableAddItemTemplate",""]],standalone:!0})),l})(),Te=(()=>{var i;class l{}return i=l,(0,o.Z)(l,"\u0275fac",function(t){return new(t||i)}),(0,o.Z)(l,"\u0275dir",e.lG2({type:i,selectors:[["","ionicSelectableCloseButtonTemplate",""]],standalone:!0})),l})(),Se=(()=>{var i;class l{}return i=l,(0,o.Z)(l,"\u0275fac",function(t){return new(t||i)}),(0,o.Z)(l,"\u0275dir",e.lG2({type:i,selectors:[["","ionicSelectableFooterTemplate",""]],standalone:!0})),l})(),xe=(()=>{var i;class l{}return i=l,(0,o.Z)(l,"\u0275fac",function(t){return new(t||i)}),(0,o.Z)(l,"\u0275dir",e.lG2({type:i,selectors:[["","ionicSelectableGroupEndTemplate",""]],standalone:!0})),l})(),Ze=(()=>{var i;class l{}return i=l,(0,o.Z)(l,"\u0275fac",function(t){return new(t||i)}),(0,o.Z)(l,"\u0275dir",e.lG2({type:i,selectors:[["","ionicSelectableGroupTemplate",""]],standalone:!0})),l})(),Ae=(()=>{var i;class l{}return i=l,(0,o.Z)(l,"\u0275fac",function(t){return new(t||i)}),(0,o.Z)(l,"\u0275dir",e.lG2({type:i,selectors:[["","ionicSelectableHeaderTemplate",""]],standalone:!0})),l})(),we=(()=>{var i;class l{}return i=l,(0,o.Z)(l,"\u0275fac",function(t){return new(t||i)}),(0,o.Z)(l,"\u0275dir",e.lG2({type:i,selectors:[["","ionicSelectableIconTemplate",""]],standalone:!0})),l})(),Oe=(()=>{var i;class l{}return i=l,(0,o.Z)(l,"\u0275fac",function(t){return new(t||i)}),(0,o.Z)(l,"\u0275dir",e.lG2({type:i,selectors:[["","ionicSelectableItemEndTemplate",""]],standalone:!0})),l})(),Me=(()=>{var i;class l{}return i=l,(0,o.Z)(l,"\u0275fac",function(t){return new(t||i)}),(0,o.Z)(l,"\u0275dir",e.lG2({type:i,selectors:[["","ionicSelectableItemIconTemplate",""]],standalone:!0})),l})(),ye=(()=>{var i;class l{}return i=l,(0,o.Z)(l,"\u0275fac",function(t){return new(t||i)}),(0,o.Z)(l,"\u0275dir",e.lG2({type:i,selectors:[["","ionicSelectableItemTemplate",""]],standalone:!0})),l})(),Fe=(()=>{var i;class l{}return i=l,(0,o.Z)(l,"\u0275fac",function(t){return new(t||i)}),(0,o.Z)(l,"\u0275dir",e.lG2({type:i,selectors:[["","ionicSelectableMessageTemplate",""]],standalone:!0})),l})(),Ee=(()=>{var i;class l{get _canClearCssClass(){return this.selectComponent.canClear}get _isMultipleCssClass(){return this.selectComponent.isMultiple}get _isSearchingCssClass(){return this.selectComponent._isSearching}get _isIos(){return this.selectComponent._isIos}_isMD(){return this.selectComponent._isMD}get _isAddItemTemplateVisibleCssClass(){return this.selectComponent._isAddItemTemplateVisible}onResize(){this.selectComponent._positionAddItemTemplate()}constructor(t,n){(0,o.Z)(this,"navParams",void 0),(0,o.Z)(this,"_element",void 0),(0,o.Z)(this,"_content",void 0),(0,o.Z)(this,"_header",void 0),(0,o.Z)(this,"selectComponent",void 0),(0,o.Z)(this,"_searchbarComponent",void 0),(0,o.Z)(this,"_infiniteScroll",void 0),(0,o.Z)(this,"_cssClass",!0),this.navParams=t,this._element=n,this.selectComponent=this.navParams.get("selectComponent"),this.selectComponent._modalComponent=this,this.selectComponent._selectedItems=[],this.selectComponent._isNullOrWhiteSpace(this.selectComponent.value)||(this.selectComponent.isMultiple?this.selectComponent.value.forEach(a=>{this.selectComponent._selectedItems.push(a)}):this.selectComponent._selectedItems.push(this.selectComponent.value)),this.selectComponent._setItemsToConfirm(this.selectComponent._selectedItems)}ngAfterViewInit(){this._header=this._element.nativeElement.querySelector("ion-header"),this._searchbarComponent&&this.selectComponent.shouldFocusSearchbar&&setTimeout(()=>{this._searchbarComponent.setFocus()},1e3)}}return i=l,(0,o.Z)(l,"\u0275fac",function(t){return new(t||i)(e.Y36(r.X1),e.Y36(e.SBq))}),(0,o.Z)(l,"\u0275cmp",e.Xpm({type:i,selectors:[["ionic-selectable-modal"]],viewQuery:function(t,n){if(1&t&&(e.Gf(r.W2,5),e.Gf(A,5),e.Gf(r.ju,5)),2&t){let a;e.iGM(a=e.CRH())&&(n._content=a.first),e.iGM(a=e.CRH())&&(n._searchbarComponent=a.first),e.iGM(a=e.CRH())&&(n._infiniteScroll=a.first)}},hostVars:14,hostBindings:function(t,n){1&t&&e.NdJ("resize",function(){return n.onResize()},!1,e.Jf7),2&t&&e.ekj("ionic-selectable-modal",n._cssClass)("ionic-selectable-modal-can-clear",n._canClearCssClass)("ionic-selectable-modal-is-multiple",n._isMultipleCssClass)("ionic-selectable-modal-is-searching",n._isSearchingCssClass)("ionic-selectable-modal-ios",n._isIos)("ionic-selectable-modal-md",n._isMD)("ionic-selectable-modal-is-add-item-template-visible",n._isAddItemTemplateVisibleCssClass)},standalone:!0,features:[e.jDz],decls:12,vars:9,consts:[[3,"color",4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],[4,"ngIf"],["class","ionic-selectable-spinner",4,"ngIf"],["class","ion-no-margin",4,"ngIf"],[3,"disabled","ionInfinite"],["class","ionic-selectable-add-item-template",3,"ngStyle",4,"ngIf"],[3,"ngStyle",4,"ngIf"],[3,"color"],[3,"slot"],[3,"click"],[3,"ngTemplateOutlet"],[3,"ngModel","placeholder","debounce","ngModelChange","ionInput","ionClear",4,"ngIf"],["class","ionic-selectable-message",4,"ngIf"],[3,"ngModel","placeholder","debounce","ngModelChange","ionInput","ionClear"],["searchbarComponent",""],[1,"ionic-selectable-message"],[1,"ionic-selectable-spinner"],[1,"ionic-selectable-spinner-background"],[1,"ion-no-margin"],["class","ionic-selectable-group",4,"ngFor","ngForOf"],[1,"ionic-selectable-group"],["button","true","detail","false","class","ionic-selectable-item",3,"ngClass","disabled","click",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["slot","end",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["slot","end"],["button","true","detail","false",1,"ionic-selectable-item",3,"ngClass","disabled","click"],[3,"name","color","slot",4,"ngIf"],["class","ionic-selectable-item-button","slot","end","fill","outline",3,"click",4,"ngIf"],[3,"name","color","slot"],["slot","end","fill","outline",1,"ionic-selectable-item-button",3,"click"],["slot","icon-only","ios","create","md","create-sharp"],["slot","icon-only","ios","trash","md","trash-sharp"],["class","ion-margin",4,"ngIf"],[1,"ion-margin"],[1,"ionic-selectable-add-item-template",3,"ngStyle"],[1,"ionic-selectable-add-item-template-inner",3,"ngStyle"],[3,"ngStyle"],["expand","full",3,"disabled","click"],["expand","full",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header"),e.YNc(1,F,8,6,"ion-toolbar",0),e.YNc(2,E,1,1,"div",1),e.YNc(3,B,3,2,"ion-toolbar",2),e.qZA(),e.TgZ(4,"ion-content"),e.YNc(5,N,3,0,"div",3),e.YNc(6,$,2,1,"ion-list",4),e.YNc(7,ee,3,2,"div",2),e.TgZ(8,"ion-infinite-scroll",5),e.NdJ("ionInfinite",function(){return n.selectComponent._getMoreItems()}),e._UZ(9,"ion-infinite-scroll-content"),e.qZA()(),e.YNc(10,se,3,11,"div",6),e.YNc(11,me,3,5,"ion-footer",7)),2&t&&(e.xp6(1),e.Q6J("ngIf",!n.selectComponent.headerTemplate),e.xp6(1),e.Q6J("ngIf",n.selectComponent.headerTemplate),e.xp6(1),e.Q6J("ngIf",n.selectComponent.canSearch||n.selectComponent.messageTemplate),e.xp6(2),e.Q6J("ngIf",n.selectComponent._isSearching),e.xp6(1),e.Q6J("ngIf",n.selectComponent._hasFilteredItems),e.xp6(1),e.Q6J("ngIf",!n.selectComponent._hasFilteredItems),e.xp6(1),e.Q6J("disabled",!n.selectComponent.hasInfiniteScroll),e.xp6(2),e.Q6J("ngIf",n.selectComponent._isAddItemTemplateVisible),e.xp6(1),e.Q6J("ngIf",n.selectComponent._footerButtonsCount>0||n.selectComponent.footerTemplate))},dependencies:[r.Pc,r.YG,r.Sm,r.wI,r.W2,r.fr,r.Gu,r.gu,r.ju,r.MB,r.Ie,r.rH,r.Ub,r.Q$,r.q_,r.Nd,r.VI,r.PQ,r.wd,r.sr,r.j9,h.O5,h.tP,m.u5,m.JJ,m.On,h.ax,h.mk,h.PC],encapsulation:2})),l})(),De=(()=>{var i;class l{}return i=l,(0,o.Z)(l,"\u0275fac",function(t){return new(t||i)}),(0,o.Z)(l,"\u0275dir",e.lG2({type:i,selectors:[["","ionicSelectablePlaceholderTemplate",""]],standalone:!0})),l})(),Je=(()=>{var i;class l{}return i=l,(0,o.Z)(l,"\u0275fac",function(t){return new(t||i)}),(0,o.Z)(l,"\u0275dir",e.lG2({type:i,selectors:[["","ionicSelectableSearchFailTemplate",""]],standalone:!0})),l})(),Be=(()=>{var i;class l{}return i=l,(0,o.Z)(l,"\u0275fac",function(t){return new(t||i)}),(0,o.Z)(l,"\u0275dir",e.lG2({type:i,selectors:[["","ionicSelectableTitleTemplate",""]],standalone:!0})),l})(),Ne=(()=>{var i;class l{}return i=l,(0,o.Z)(l,"\u0275fac",function(t){return new(t||i)}),(0,o.Z)(l,"\u0275dir",e.lG2({type:i,selectors:[["","ionicSelectableValueTemplate",""]],standalone:!0})),l})(),T=(()=>{var i;class l{get _isMultipleCssClass(){return this.isMultiple}get _hasValueCssClass(){return this.hasValue()}get _hasPlaceholderCssClass(){return this._hasPlaceholder}get _hasIonLabelCssClass(){return this._hasIonLabel}get _hasDefaultIonLabelCssClass(){return"default"===this._ionLabelPosition}get _hasFixedIonLabelCssClass(){return"fixed"===this._ionLabelPosition}get _hasStackedIonLabelCssClass(){return"stacked"===this._ionLabelPosition}get _hasFloatingIonLabelCssClass(){return"floating"===this._ionLabelPosition}get _hasInfiniteScroll(){return!!(this.isEnabled&&this._modalComponent&&this._modalComponent._infiniteScroll)}get _shouldStoreItemValue(){return this.shouldStoreItemValue&&this._hasObjects}get label(){return this._label}get searchText(){return this._searchText}set searchText(t){this._searchText=t,this._setHasSearchText()}get isSearching(){return this._isSearching}get hasSearchText(){return this._hasSearchText}get value(){return this._value}set value(t){this._value=t,this._valueItems.splice(0,this._valueItems.length),this.isMultiple?t&&t.length&&Array.prototype.push.apply(this._valueItems,t):this._isNullOrWhiteSpace(t)||this._valueItems.push(t),this._setIonItemHasValue(),this._setHasPlaceholder()}get isEnabled(){return this._isEnabled}set isEnabled(t){this._isEnabled=!!t,this.enableIonItem(this._isEnabled)}get shouldBackdropClose(){return this._shouldBackdropClose}set shouldBackdropClose(t){this._shouldBackdropClose=!!t}get isOpened(){return this._isOpened}get hasConfirmButton(){return this._hasConfirmButton}set hasConfirmButton(t){this._hasConfirmButton=!!t,this._countFooterButtons()}get isOnSearchEnabled(){return this._isOnSearchEnabled}set isOnSearchEnabled(t){this._isOnSearchEnabled=!!t}get canClear(){return this._canClear}set canClear(t){this._canClear=!!t,this._countFooterButtons()}get isMultiple(){return this._isMultiple}set isMultiple(t){this._isMultiple=!!t,this._countFooterButtons()}get itemsToConfirm(){return this._itemsToConfirm}get canAddItem(){return this._canAddItem}set canAddItem(t){this._canAddItem=!!t,this._countFooterButtons()}constructor(t,n,a,c,_,d){var f;(0,o.Z)(this,"_modalController",void 0),(0,o.Z)(this,"_platform",void 0),(0,o.Z)(this,"ionItem",void 0),(0,o.Z)(this,"_iterableDiffers",void 0),(0,o.Z)(this,"_element",void 0),(0,o.Z)(this,"_renderer",void 0),(0,o.Z)(this,"_cssClass",!0),(0,o.Z)(this,"_isIos",void 0),(0,o.Z)(this,"_isMD",void 0),(0,o.Z)(this,"_isOnSearchEnabled",!0),(0,o.Z)(this,"_isEnabled",!0),(0,o.Z)(this,"_shouldBackdropClose",!0),(0,o.Z)(this,"_isOpened",!1),(0,o.Z)(this,"_value",null),(0,o.Z)(this,"_modal",void 0),(0,o.Z)(this,"_itemsDiffer",void 0),(0,o.Z)(this,"_hasObjects",void 0),(0,o.Z)(this,"_canClear",!1),(0,o.Z)(this,"_hasConfirmButton",!1),(0,o.Z)(this,"_isMultiple",!1),(0,o.Z)(this,"_canAddItem",!1),(0,o.Z)(this,"_addItemObservable",void 0),(0,o.Z)(this,"_deleteItemObservable",void 0),(0,o.Z)(this,"onItemsChange",new e.vpe),(0,o.Z)(this,"_ionItemElement",void 0),(0,o.Z)(this,"_ionLabelElement",void 0),(0,o.Z)(this,"_hasIonLabel",!1),(0,o.Z)(this,"_ionLabelPosition",null),(0,o.Z)(this,"_label",""),(0,o.Z)(this,"_valueItems",[]),(0,o.Z)(this,"_searchText",""),(0,o.Z)(this,"_hasSearchText",!1),(0,o.Z)(this,"_groups",[]),(0,o.Z)(this,"_itemsToConfirm",[]),(0,o.Z)(this,"_selectedItems",[]),(0,o.Z)(this,"_modalComponent",void 0),(0,o.Z)(this,"_filteredGroups",[]),(0,o.Z)(this,"_hasGroups",void 0),(0,o.Z)(this,"_isSearching",void 0),(0,o.Z)(this,"_hasPlaceholder",void 0),(0,o.Z)(this,"_isAddItemTemplateVisible",!1),(0,o.Z)(this,"_isFooterVisible",!0),(0,o.Z)(this,"_itemToAdd",null),(0,o.Z)(this,"_footerButtonsCount",0),(0,o.Z)(this,"_hasFilteredItems",!1),(0,o.Z)(this,"items",[]),(0,o.Z)(this,"itemsChange",new e.vpe),(0,o.Z)(this,"modalCssClass",""),(0,o.Z)(this,"modalEnterAnimation",void 0),(0,o.Z)(this,"modalLeaveAnimation",void 0),(0,o.Z)(this,"isConfirmButtonEnabled",!0),(0,o.Z)(this,"itemValueField",""),(0,o.Z)(this,"itemTextField",""),(0,o.Z)(this,"groupValueField",""),(0,o.Z)(this,"groupTextField",""),(0,o.Z)(this,"canSearch",!1),(0,o.Z)(this,"hasInfiniteScroll",!1),(0,o.Z)(this,"hasVirtualScroll",!1),(0,o.Z)(this,"virtualScrollApproxItemHeight","40px"),(0,o.Z)(this,"searchPlaceholder","Search"),(0,o.Z)(this,"placeholder",""),(0,o.Z)(this,"searchFailText","No items found."),(0,o.Z)(this,"clearButtonText","Clear"),(0,o.Z)(this,"addButtonText","Add"),(0,o.Z)(this,"confirmButtonText","OK"),(0,o.Z)(this,"closeButtonText","Cancel"),(0,o.Z)(this,"shouldFocusSearchbar",!1),(0,o.Z)(this,"headerColor",""),(0,o.Z)(this,"groupColor",""),(0,o.Z)(this,"closeButtonSlot","start"),(0,o.Z)(this,"itemIconSlot","start"),(0,o.Z)(this,"onChange",new e.vpe),(0,o.Z)(this,"onSearch",new e.vpe),(0,o.Z)(this,"onSearchFail",new e.vpe),(0,o.Z)(this,"onSearchSuccess",new e.vpe),(0,o.Z)(this,"onInfiniteScroll",new e.vpe),(0,o.Z)(this,"onOpen",new e.vpe),(0,o.Z)(this,"onClose",new e.vpe),(0,o.Z)(this,"onSelect",new e.vpe),(0,o.Z)(this,"onClear",new e.vpe),(0,o.Z)(this,"searchDebounce",250),(0,o.Z)(this,"disabledItems",[]),(0,o.Z)(this,"shouldStoreItemValue",!1),(0,o.Z)(this,"canSaveItem",!1),(0,o.Z)(this,"canDeleteItem",!1),(0,o.Z)(this,"onSaveItem",new e.vpe),(0,o.Z)(this,"onDeleteItem",new e.vpe),(0,o.Z)(this,"onAddItem",new e.vpe),(0,o.Z)(this,"valueTemplate",void 0),(0,o.Z)(this,"itemTemplate",void 0),(0,o.Z)(this,"itemEndTemplate",void 0),(0,o.Z)(this,"titleTemplate",void 0),(0,o.Z)(this,"placeholderTemplate",void 0),(0,o.Z)(this,"messageTemplate",void 0),(0,o.Z)(this,"groupTemplate",void 0),(0,o.Z)(this,"groupEndTemplate",void 0),(0,o.Z)(this,"closeButtonTemplate",void 0),(0,o.Z)(this,"searchFailTemplate",void 0),(0,o.Z)(this,"addItemTemplate",void 0),(0,o.Z)(this,"footerTemplate",void 0),(0,o.Z)(this,"_addItemTemplateFooterHeight",void 0),(0,o.Z)(this,"headerTemplate",void 0),(0,o.Z)(this,"itemIconTemplate",void 0),(0,o.Z)(this,"iconTemplate",void 0),(0,o.Z)(this,"virtualScrollHeaderFn",()=>null),(0,o.Z)(this,"propagateOnChange",Le=>{}),(0,o.Z)(this,"propagateOnTouched",()=>{}),this._modalController=t,this._platform=n,this.ionItem=a,this._iterableDiffers=c,this._element=_,this._renderer=d,null!==(f=this.items)&&void 0!==f&&f.length||(this.items=[]),this._itemsDiffer=this._iterableDiffers.find(this.items).create()}initFocus(){}enableIonItem(t){this.ionItem&&(this.ionItem.disabled=!t)}_isNullOrWhiteSpace(t){return null==t||t.toString().replace(/\s/g,"").length<1}_setHasSearchText(){this._hasSearchText=!this._isNullOrWhiteSpace(this._searchText)}_hasOnSearch(){return this.isOnSearchEnabled&&this.onSearch.observers.length>0}_hasOnSaveItem(){return this.canSaveItem&&this.onSaveItem.observers.length>0}_hasOnAddItem(){return this.canAddItem&&this.onAddItem.observers.length>0}_hasOnDeleteItem(){return this.canDeleteItem&&this.onDeleteItem.observers.length>0}_emitValueChange(){this.propagateOnChange(this.value),this.onChange.emit({component:this,value:this.value})}_emitSearch(){this.canSearch&&this.onSearch.emit({component:this,text:this._searchText})}_emitOnSelect(t,n){this.onSelect.emit({component:this,item:t,isSelected:n})}_emitOnClear(t){this.onClear.emit({component:this,items:t})}_emitOnSearchSuccessOrFail(t){const n={component:this,text:this._searchText};t?this.onSearchSuccess.emit(n):this.onSearchFail.emit(n)}_formatItem(t){return this._isNullOrWhiteSpace(t)?"":this.itemTextField?t[this.itemTextField]:t.toString()}_formatValueItem(t){if(this._shouldStoreItemValue){const n=this.items.find(a=>a[this.itemValueField]===t);return this._formatItem(n)}return this._formatItem(t)}_getItemValue(t){return this._hasObjects?t[this.itemValueField]:t}_getStoredItemValue(t){return this._hasObjects?this._shouldStoreItemValue?t:t[this.itemValueField]:t}_onSearchbarClear(){this._searchText=""}_filterItems(){if(this._setHasSearchText(),this._hasOnSearch())this._emitSearch();else{var t;let n=[];if(null!==(t=this._searchText)&&void 0!==t&&t.trim()){const a=this._searchText.trim().toLowerCase();this._groups.forEach(c=>{const _=c.items.filter(d=>-1!==(this.itemTextField?d[this.itemTextField]:d).toString().toLowerCase().indexOf(a));_.length&&n.push({value:c.value,text:c.text,items:_})}),n.length||n.push({items:[]})}else n=this._groups;this._filteredGroups=n,this._hasFilteredItems=!this._areGroupsEmpty(n),this._emitOnSearchSuccessOrFail(this._hasFilteredItems)}}_isItemDisabled(t){return!!this.disabledItems&&this.disabledItems.some(n=>this._getItemValue(n)===this._getItemValue(t))}_isItemSelected(t){return void 0!==this._selectedItems.find(n=>this._getItemValue(t)===this._getStoredItemValue(n))}_addSelectedItem(t){this._selectedItems.push(this._shouldStoreItemValue?this._getItemValue(t):t)}_deleteSelectedItem(t){let n=-1;this._selectedItems.forEach((a,c)=>{this._getItemValue(t)===this._getStoredItemValue(a)&&(n=c)}),this._selectedItems.splice(n,1)}_click(){this.isEnabled&&(this._label=this._getLabelText(),this.open().then(()=>{this.onOpen.emit({component:this})}))}_saveItem(t,n){t.stopPropagation(),this._itemToAdd=n,this._hasOnSaveItem()?this.onSaveItem.emit({component:this,item:this._itemToAdd}):this.showAddItemTemplate()}_deleteItemClick(t,n){t.stopPropagation(),this._itemToAdd=n,this._hasOnDeleteItem()?this.onDeleteItem.emit({component:this,item:this._itemToAdd}):this.deleteItem(this._itemToAdd)}_addItemClick(){this._hasOnAddItem()?this.onAddItem.emit({component:this}):this.showAddItemTemplate()}_positionAddItemTemplate(){setTimeout(()=>{const t=this._modalComponent._element.nativeElement.querySelector(".ionic-selectable-add-item-template ion-footer");this._addItemTemplateFooterHeight=t?`calc(100% - ${t.offsetHeight}px)`:"100%"},100)}_close(){this.close().then(()=>{this.onClose.emit({component:this})}),this._hasOnSearch()||(this._searchText="",this._setHasSearchText())}_clear(){const t=this._selectedItems;this.clear(),this._emitValueChange(),this._emitOnClear(t),this.close().then(()=>{this.onClose.emit({component:this})})}_getMoreItems(){this.onInfiniteScroll.emit({component:this,text:this._searchText})}_setItemsToConfirm(t){this._itemsToConfirm=[].concat(t)}_doSelect(t){this.value=t,this._emitValueChange()}_select(t){const n=this._isItemSelected(t);this.isMultiple?(n?this._deleteSelectedItem(t):this._addSelectedItem(t),this._setItemsToConfirm(this._selectedItems),this._emitOnSelect(t,!n)):this.hasConfirmButton||this.footerTemplate?(this._selectedItems=[],n?this._deleteSelectedItem(t):this._addSelectedItem(t),this._setItemsToConfirm(this._selectedItems),this._emitOnSelect(t,!n)):(n||(this._selectedItems=[],this._addSelectedItem(t),this._emitOnSelect(t,!0),this._doSelect(this._shouldStoreItemValue?this._getItemValue(t):t)),this._close())}_confirm(){this.confirm(),this._close()}_getLabelText(){return this._ionLabelElement?this._ionLabelElement.textContent:null}_areGroupsEmpty(t){return 0===t.length||t.every(n=>{var a;return!(null!==(a=n.items)&&void 0!==a&&a.length)})}_countFooterButtons(){let t=0;this.canClear&&t++,(this.isMultiple||this._hasConfirmButton)&&t++,this.canAddItem&&t++,this._footerButtonsCount=t}_setItems(t){let n=[{items:t||[]}];null!=t&&t.length&&this._hasGroups&&(n=[],t.forEach(a=>{const c=this._getPropertyValue(a,this.groupValueField),_=n.find(d=>d.value===c);_?_.items.push(a):n.push({value:c,text:this._getPropertyValue(a,this.groupTextField),items:[a]})})),this._groups=n,this._filteredGroups=this._groups,this._hasFilteredItems=!this._areGroupsEmpty(this._filteredGroups)}_getPropertyValue(t,n){return n?n.split(".").reduce((a,c)=>a?a[c]:null,t):null}_setIonItemHasFocus(t){this.ionItem&&this._setIonItemCssClass("item-has-focus",t)}_setIonItemHasValue(){this.ionItem&&this._setIonItemCssClass("item-has-value",this.hasValue())}_setHasPlaceholder(){this._hasPlaceholder=!(this.hasValue()||this._isNullOrWhiteSpace(this.placeholder)&&!this.placeholderTemplate)}_setIonItemCssClass(t,n){this._ionItemElement&&(n?this._renderer.addClass(this._ionItemElement,t):this._renderer.removeClass(this._ionItemElement,t))}_toggleAddItemTemplate(t){this.addItemTemplate&&(this._isAddItemTemplateVisible=t,this._isFooterVisible=!t)}writeValue(t){this.value=t}registerOnChange(t){this.propagateOnChange=t}registerOnTouched(t){this.propagateOnTouched=t}setDisabledState(t){this.isEnabled=!t}ngOnInit(){this._isIos=this._platform.is("ios"),this._isMD=!this._isIos,this._hasObjects=!this._isNullOrWhiteSpace(this.itemValueField),this._hasGroups=!(!this._hasObjects||!this.groupValueField||this.hasVirtualScroll),this.ionItem&&(this._ionItemElement=this._element.nativeElement.closest("ion-item"),this._setIonItemCssClass("item-interactive",!0),this._setIonItemCssClass("item-ionic-selectable",!0),this._ionItemElement&&(this._ionLabelElement=this._ionItemElement.querySelector("ion-label"),this._ionLabelElement&&(this._hasIonLabel=!0,this._ionLabelPosition=this._ionLabelElement.getAttribute("position")||"default"))),this.enableIonItem(this.isEnabled)}ngDoCheck(){this._itemsDiffer.diff(this.items)&&(this._setItems(this.items),this.onItemsChange.emit({component:this}))}addItem(t){const n=this;return this.items.unshift(t),this._addItemObservable&&this._addItemObservable.unsubscribe(),new Promise(function(a,c){n._addItemObservable=n.onItemsChange.asObservable().subscribe(()=>{n._addItemObservable.unsubscribe(),a("")},()=>{n._addItemObservable.unsubscribe(),c()})})}deleteItem(t){const n=this;let a=!1;if(this._selectedItems&&(this._selectedItems=this._selectedItems.filter(_=>this._getItemValue(t)!==this._getStoredItemValue(_))),this.value)if(this.isMultiple){const _=this.value.filter(d=>d.id!==t.id);_.length!==this.value.length&&(this.value=_,a=!0)}else t===this.value&&(this.value=null,a=!0);a&&this._emitValueChange();const c=this.items.filter(_=>_.id!==t.id);return this.itemsChange.emit(c),this._setItems(c),this.onItemsChange.emit({component:this}),this._deleteItemObservable&&this._deleteItemObservable.unsubscribe(),new Promise(function(_,d){n._deleteItemObservable=n.onItemsChange.asObservable().subscribe(()=>{n._deleteItemObservable.unsubscribe(),_("")},()=>{n._deleteItemObservable.unsubscribe(),d()})})}hasValue(){return this.isMultiple?0!==this._valueItems.length:0!==this._valueItems.length&&!this._isNullOrWhiteSpace(this._valueItems[0])}open(){const t=this;return new Promise(function(n,a){if(!t._isEnabled||t._isOpened)return void a("IonicSelectable is disabled or already opened.");t._filterItems(),t._isOpened=!0;const c={component:Ee,componentProps:{selectComponent:t},backdropDismiss:t._shouldBackdropClose};t.modalCssClass&&(c.cssClass=t.modalCssClass),t.modalEnterAnimation&&(c.enterAnimation=t.modalEnterAnimation),t.modalLeaveAnimation&&(c.leaveAnimation=t.modalLeaveAnimation),t._modalController.create(c).then(_=>{t._modal=_,_.present().then(()=>{t._setIonItemHasFocus(!0),n()}),_.onWillDismiss().then(()=>{t._setIonItemHasFocus(!1)}),_.onDidDismiss().then(d=>{t._isOpened=!1,t._itemsToConfirm=[],"backdrop"===d.role&&t.onClose.emit({component:t})})})})}close(){const t=this;return new Promise(function(n,a){t._isEnabled&&t._isOpened?(t.propagateOnTouched(),t._isOpened=!1,t._itemToAdd=null,t._modal.dismiss().then(()=>{t._setIonItemHasFocus(!1),t.hideAddItemTemplate(),n()})):a("IonicSelectable is disabled or already closed.")})}clear(){this.value=this.isMultiple?[]:null,this._itemsToConfirm=[],this.propagateOnChange(this.value)}confirm(){this.isMultiple?this._doSelect(this._selectedItems):(this.hasConfirmButton||this.footerTemplate)&&this._doSelect(this._selectedItems[0]||null)}toggleItems(t,n){if(t){const a=null==n?void 0:n.length;let c=this._groups.reduce((_,d)=>_.concat(d.items),[]);!this.isMultiple&&!a&&(c=[]),a&&(c=c.filter(_=>void 0!==n.find(d=>this._getItemValue(_)===this._getItemValue(d))),this.isMultiple||c.splice(0,1)),c.forEach(_=>{this._addSelectedItem(_)})}else this._selectedItems=[];this._setItemsToConfirm(this._selectedItems)}scrollToTop(){const t=this;return new Promise(function(n,a){t._isOpened?t._modalComponent._content.scrollToTop().then(()=>{n("")}):a("IonicSelectable content cannot be scrolled.")})}scrollToBottom(){const t=this;return new Promise(function(n,a){t._isOpened?t._modalComponent._content.scrollToBottom().then(()=>{n("")}):a("IonicSelectable content cannot be scrolled.")})}startSearch(){this._isEnabled&&this.showLoading()}endSearch(){this._isEnabled&&(this.hideLoading(),this._setItems(this.items),this._emitOnSearchSuccessOrFail(this._hasFilteredItems))}enableInfiniteScroll(){this._hasInfiniteScroll&&(this._modalComponent._infiniteScroll.disabled=!1)}disableInfiniteScroll(){this._hasInfiniteScroll&&(this._modalComponent._infiniteScroll.disabled=!0)}endInfiniteScroll(){this._hasInfiniteScroll&&(this._modalComponent._infiniteScroll.complete(),this._setItems(this.items))}search(t){!this._isEnabled||!this._isOpened||!this.canSearch||(this._searchText=t,this._setHasSearchText(),this._filterItems())}showLoading(){this._isEnabled&&(this._isSearching=!0)}hideLoading(){this._isEnabled&&(this._isSearching=!1)}showAddItemTemplate(){this._toggleAddItemTemplate(!0),this._positionAddItemTemplate()}hideAddItemTemplate(){this._itemToAdd=null,this._toggleAddItemTemplate(!1)}}return i=l,(0,o.Z)(l,"\u0275fac",function(t){return new(t||i)(e.Y36(r.IN),e.Y36(r.t4),e.Y36(r.Ie,8),e.Y36(e.ZZ4),e.Y36(e.SBq),e.Y36(e.Qsj))}),(0,o.Z)(l,"\u0275cmp",e.Xpm({type:i,selectors:[["ionic-selectable"]],contentQueries:function(t,n,a){if(1&t&&(e.Suo(a,Ne,5,e.Rgc),e.Suo(a,ye,5,e.Rgc),e.Suo(a,Oe,5,e.Rgc),e.Suo(a,Be,5,e.Rgc),e.Suo(a,De,5,e.Rgc),e.Suo(a,Fe,5,e.Rgc),e.Suo(a,Ze,5,e.Rgc),e.Suo(a,xe,5,e.Rgc),e.Suo(a,Te,5,e.Rgc),e.Suo(a,Je,5,e.Rgc),e.Suo(a,Ce,5,e.Rgc),e.Suo(a,Se,5,e.Rgc),e.Suo(a,Ae,5,e.Rgc),e.Suo(a,Me,5,e.Rgc),e.Suo(a,we,5,e.Rgc)),2&t){let c;e.iGM(c=e.CRH())&&(n.valueTemplate=c.first),e.iGM(c=e.CRH())&&(n.itemTemplate=c.first),e.iGM(c=e.CRH())&&(n.itemEndTemplate=c.first),e.iGM(c=e.CRH())&&(n.titleTemplate=c.first),e.iGM(c=e.CRH())&&(n.placeholderTemplate=c.first),e.iGM(c=e.CRH())&&(n.messageTemplate=c.first),e.iGM(c=e.CRH())&&(n.groupTemplate=c.first),e.iGM(c=e.CRH())&&(n.groupEndTemplate=c.first),e.iGM(c=e.CRH())&&(n.closeButtonTemplate=c.first),e.iGM(c=e.CRH())&&(n.searchFailTemplate=c.first),e.iGM(c=e.CRH())&&(n.addItemTemplate=c.first),e.iGM(c=e.CRH())&&(n.footerTemplate=c.first),e.iGM(c=e.CRH())&&(n.headerTemplate=c.first),e.iGM(c=e.CRH())&&(n.itemIconTemplate=c.first),e.iGM(c=e.CRH())&&(n.iconTemplate=c.first)}},hostVars:26,hostBindings:function(t,n){2&t&&e.ekj("ionic-selectable",n._cssClass)("ionic-selectable-ios",n._isIos)("ionic-selectable-md",n._isMD)("ionic-selectable-is-multiple",n._isMultipleCssClass)("ionic-selectable-has-value",n._hasValueCssClass)("ionic-selectable-has-placeholder",n._hasPlaceholderCssClass)("ionic-selectable-has-label",n._hasIonLabelCssClass)("ionic-selectable-label-default",n._hasDefaultIonLabelCssClass)("ionic-selectable-label-fixed",n._hasFixedIonLabelCssClass)("ionic-selectable-label-stacked",n._hasStackedIonLabelCssClass)("ionic-selectable-label-floating",n._hasFloatingIonLabelCssClass)("ionic-selectable-is-enabled",n.isEnabled)("ionic-selectable-can-clear",n.canClear)},inputs:{items:"items",isEnabled:"isEnabled",shouldBackdropClose:"shouldBackdropClose",modalCssClass:"modalCssClass",modalEnterAnimation:"modalEnterAnimation",modalLeaveAnimation:"modalLeaveAnimation",isConfirmButtonEnabled:"isConfirmButtonEnabled",hasConfirmButton:"hasConfirmButton",itemValueField:"itemValueField",itemTextField:"itemTextField",groupValueField:"groupValueField",groupTextField:"groupTextField",canSearch:"canSearch",isOnSearchEnabled:"isOnSearchEnabled",canClear:"canClear",hasInfiniteScroll:"hasInfiniteScroll",hasVirtualScroll:"hasVirtualScroll",virtualScrollApproxItemHeight:"virtualScrollApproxItemHeight",searchPlaceholder:"searchPlaceholder",placeholder:"placeholder",isMultiple:"isMultiple",searchFailText:"searchFailText",clearButtonText:"clearButtonText",addButtonText:"addButtonText",confirmButtonText:"confirmButtonText",closeButtonText:"closeButtonText",shouldFocusSearchbar:"shouldFocusSearchbar",headerColor:"headerColor",groupColor:"groupColor",closeButtonSlot:"closeButtonSlot",itemIconSlot:"itemIconSlot",searchDebounce:"searchDebounce",disabledItems:"disabledItems",shouldStoreItemValue:"shouldStoreItemValue",canSaveItem:"canSaveItem",canDeleteItem:"canDeleteItem",canAddItem:"canAddItem",virtualScrollHeaderFn:"virtualScrollHeaderFn"},outputs:{itemsChange:"itemsChange",onChange:"onChange",onSearch:"onSearch",onSearchFail:"onSearchFail",onSearchSuccess:"onSearchSuccess",onInfiniteScroll:"onInfiniteScroll",onOpen:"onOpen",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onSaveItem:"onSaveItem",onDeleteItem:"onDeleteItem",onAddItem:"onAddItem"},standalone:!0,features:[e._Bn([{provide:m.JU,useExisting:(0,e.Gpc)(()=>i),multi:!0}]),e.jDz],decls:11,vars:9,consts:[[1,"ionic-selectable-inner"],[1,"ionic-selectable-value"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["class","ionic-selectable-value-item",4,"ngIf"],[4,"ngIf"],["class","ionic-selectable-icon-template",4,"ngIf"],["class","ionic-selectable-icon",4,"ngIf"],["type","button",1,"ionic-selectable-cover",3,"disabled","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ionic-selectable-value-item"],["class","ionic-selectable-value-item",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],[1,"ionic-selectable-icon-template"],[1,"ionic-selectable-icon"],[1,"ionic-selectable-icon-inner"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,de,1,4,"div",2),e.YNc(3,ue,2,4,"div",3),e.YNc(4,he,2,1,"span",4),e.YNc(5,fe,2,1,"div",3),e.YNc(6,ge,2,1,"div",3),e.YNc(7,be,2,0,"span",4),e.qZA(),e.YNc(8,ve,2,1,"div",5),e.YNc(9,Ie,2,0,"div",6),e.TgZ(10,"button",7),e.NdJ("click",function(){return n._click()}),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",n.valueTemplate&&n._valueItems.length&&n.isMultiple),e.xp6(1),e.Q6J("ngIf",n.valueTemplate&&n._valueItems.length&&!n.isMultiple),e.xp6(1),e.Q6J("ngIf",!n.valueTemplate&&n._valueItems.length),e.xp6(1),e.Q6J("ngIf",n._hasPlaceholder&&n.placeholderTemplate),e.xp6(1),e.Q6J("ngIf",n._hasPlaceholder&&!n.placeholderTemplate),e.xp6(1),e.Q6J("ngIf",!n._valueItems.length&&!n._hasPlaceholder),e.xp6(1),e.Q6J("ngIf",n.iconTemplate),e.xp6(1),e.Q6J("ngIf",!n.iconTemplate),e.xp6(1),e.Q6J("disabled",!n.isEnabled))},dependencies:[h.O5,h.tP,h.ax],styles:[".item-ionic-selectable .item-inner .input-wrapper{align-items:normal}.item-ionic-selectable ion-label{flex:1;max-width:initial}.ionic-selectable{display:block;max-width:45%}.ionic-selectable-inner{display:flex;flex-wrap:wrap;flex-direction:row;justify-content:flex-end}.ionic-selectable-has-placeholder .ionic-selectable-value-item{color:var(--placeholder-color, #999)}.ionic-selectable-value{flex:1;padding-top:13px;padding-bottom:13px;overflow:hidden}.ionic-selectable-value-item{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.ionic-selectable-value-item:not(:last-child){margin-bottom:5px}.ionic-selectable-icon{position:relative;width:20px}.ionic-selectable-icon-inner{position:absolute;top:20px;left:5px;border-top:5px solid;border-right:5px solid transparent;border-left:5px solid transparent;pointer-events:none;color:var(--icon-color, #999)}.ionic-selectable-icon-template{align-self:center;margin-left:5px}.ionic-selectable-ios .ionic-selectable-value{padding-top:11px;padding-bottom:11px}.ionic-selectable-ios .ionic-selectable-icon-inner{top:19px}.ionic-selectable-spinner{position:fixed;inset:0;z-index:1}.ionic-selectable-spinner-background{inset:0;position:absolute;background-color:#000;opacity:.05}.ionic-selectable-spinner ion-spinner{position:absolute;top:50%;left:50%;z-index:10;margin-top:-14px;margin-left:-14px}.ionic-selectable-cover{left:0;top:0;margin:0;position:absolute;width:100%;height:100%;border:0;background:0 0;cursor:pointer;-webkit-appearance:none;appearance:none;outline:0}.ionic-selectable-add-item-template{position:fixed;bottom:0;left:0;right:0;background-color:#fff}.ionic-selectable-add-item-template-inner{overflow-y:auto}.ionic-selectable-add-item-template-inner>ion-footer{bottom:0;position:absolute}.ionic-selectable-label-stacked,.ionic-selectable-label-floating{align-self:stretch;max-width:100%;padding-left:0;padding-top:8px;padding-bottom:8px}.ionic-selectable-label-stacked .ionic-selectable-value,.ionic-selectable-label-floating .ionic-selectable-value{padding-top:0;padding-bottom:0;min-height:19px}.ionic-selectable-label-stacked .ionic-selectable-icon-inner,.ionic-selectable-label-floating .ionic-selectable-icon-inner{top:7px}.ionic-selectable-label-stacked.ionic-selectable-ios .ionic-selectable-value,.ionic-selectable-label-floating.ionic-selectable-ios .ionic-selectable-value{padding-top:0;padding-bottom:0;min-height:20px}.ionic-selectable-label-stacked.ionic-selectable-ios .ionic-selectable-icon-inner,.ionic-selectable-label-floating.ionic-selectable-ios .ionic-selectable-icon-inner{top:8px}.ionic-selectable-label-default .ionic-selectable-value,.ionic-selectable-label-fixed .ionic-selectable-value{padding-left:var(--padding-start, 16px)}.ionic-selectable-label-fixed:not(.ionic-selectable-has-value) .ionic-selectable-value{padding-left:calc(var(--padding-start, 16px) + 11px)}.ionic-selectable-modal .ionic-selectable-group ion-item-divider{padding-right:16px}.ionic-selectable-modal .ionic-selectable-item-button{margin-left:8px;margin-right:8px}.ionic-selectable-modal-ios .ionic-selectable-message{padding:8px}.ionic-selectable-modal-ios .ionic-selectable-group ion-item-divider{padding-right:8px}.ionic-selectable-modal-md .ionic-selectable-message{padding:8px 12px}.ionic-selectable-modal.ionic-selectable-modal-can-clear.ionic-selectable-modal-is-multiple .footer .col:first-child{padding-right:8px}.ionic-selectable-modal.ionic-selectable-modal-can-clear.ionic-selectable-modal-is-multiple .footer .col:last-child{padding-left:8px}.ionic-selectable-modal.ionic-selectable-modal-is-searching .scroll-content{overflow-y:hidden}.ionic-selectable-modal.ionic-selectable-modal-is-add-item-template-visible>.content>.scroll-content{overflow-y:hidden}.ionic-selectable-modal ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}\n"],encapsulation:2})),l})();const Qe=function(){return{class:"enRojo",condicion:"row['saldo'] <1"}},Ve=function(){return{class:"enNaranja",condicion:"row['saldo'] >= 1 && row['saldo'] < 2"}},Ue=function(i,l){return[i,l]};let Ge=(()=>{var i;class l extends p.BasePage{constructor(t,n){super(t,n),this.myHttpService=t,this.seguridadService=n,this.lstUser=[],this.userSelected=-1,this.columns=[],this.soloActivos=!0,this.entityName="User"}ngOnInit(){var t=this;return(0,v.Z)(function*(){t.Init(),t.lstUser=yield t.getUsers(),t.userSelected=t.lstUser.find(n=>-1==n.id),t.columns=[{name:"Nombre",prop:"name",type:"text"},{name:"Saldo",prop:"saldo",type:"number",OrderInit:"ASC"},{name:"estado",prop:"estadoid",type:"number",filterInit:' "estadoid" <> 2',hide:!0},{name:"Bizum",prop:"",type:"action",icon:"card",action:"addBizum",canAction:t.user.isAdmin},{name:"Saldo",prop:"",type:"action",icon:"logo-euro",action:"addSaldo",canAction:t.user.isAdmin}],t.getTableRefresh()})()}selectUserEvent(){this.columns=[{name:"Nombre",prop:"name",type:"text",filterInit:-1==this.userSelected.id?"":` id = ${this.userSelected.id}  `},{name:"Saldo",prop:"saldo",type:"number",OrderInit:"ASC"},{name:"estado",prop:"estadoid",type:"number",filterInit:' "estadoid" <> 2',hide:!0},{name:"Bizum",prop:"",type:"action",icon:"card",action:"addBizum",canAction:this.user.isAdmin},{name:"Saldo",prop:"",type:"action",icon:"logo-euro",action:"addSaldo",canAction:this.user.isAdmin}],this.getTableRefresh()}soloActivoEvent(t){let n=this.columns.find(a=>"estado"==a.name);n&&(n.filterInit=this.soloActivos?"":' "estadoid" <> 2',this.getTableRefresh())}actionEmiter(t){switch(null==t?void 0:t.action){case"addBizum":this.rowAddBizum=t.row;break;case"addSaldo":this.rowAddSaldo=t.row}}}return(i=l).\u0275fac=function(t){return new(t||i)(e.Y36(p.MyHttpService),e.Y36(p.SeguridadService))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-users"]],features:[e.qOj],decls:13,vars:21,consts:[[1,"router-outlet"],["justify","start",3,"ngModel","ngModelChange","click"],["itemValueField","id","itemTextField","name",3,"ngModel","items","canSearch","ngModelChange","onChange"],[3,"canAddEntity","canUpdateEntity","title","pageSize","entityName","columns","withCache","refresh","objNgClass","actionEmiter"],[3,"SetUser","saveEvent","cancelEvent"],[3,"SetUser","fromAdmin","saveEvent","cancelEvent"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-grid",0)(1,"ion-row")(2,"ion-col")(3,"ion-checkbox",1),e.NdJ("ngModelChange",function(c){return n.soloActivos=c})("click",function(c){return n.soloActivoEvent(c)}),e._uU(4,"Solo activos"),e.qZA()()(),e.TgZ(5,"ion-row")(6,"ion-col")(7,"ionic-selectable",2),e.NdJ("ngModelChange",function(c){return n.userSelected=c})("onChange",function(){return n.selectUserEvent()}),e.qZA()()(),e.TgZ(8,"ion-row")(9,"ion-col")(10,"my-table",3),e.NdJ("actionEmiter",function(c){return n.actionEmiter(c)}),e.qZA()()()(),e.TgZ(11,"add-saldo",4),e.NdJ("saveEvent",function(){return n.getTableRefresh()})("cancelEvent",function(){return n.rowAddSaldo=null}),e.qZA(),e.TgZ(12,"add-bizum",5),e.NdJ("saveEvent",function(){return n.getTableRefresh()})("cancelEvent",function(){return n.rowAddBizum=null}),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngModel",n.soloActivos),e.xp6(4),e.Q6J("ngModel",n.userSelected)("items",n.lstUser)("canSearch",!0),e.xp6(3),e.Q6J("canAddEntity",n.user.isAdmin)("canUpdateEntity",n.user.isAdmin)("title","Lud\xf3patas")("pageSize",7)("entityName",n.entityName)("columns",n.columns)("withCache",!0)("refresh",n.tableRefresh)("objNgClass",e.WLB(18,Ue,e.DdM(16,Qe),e.DdM(17,Ve))),e.xp6(1),e.Q6J("SetUser",n.rowAddSaldo),e.xp6(1),e.Q6J("SetUser",n.rowAddBizum)("fromAdmin",!0))},dependencies:[m.JJ,m.On,r.nz,r.wI,r.jY,r.Nd,r.w,p.MyTableComponent,S.I,Z,T]}),l})();var ke=u(3044),Pe=u(3355);const He=[{path:"",component:Ge}];let Ye=(()=>{var i;class l{}return(i=l).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[h.ez,m.u5,m.UX,r.Pc,ke.Bz.forChild(He),p.SharedComponentsModule,Pe.S,T]}),l})()}}]);