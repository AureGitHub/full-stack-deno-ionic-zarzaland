"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2106],{2106:(A,p,o)=>{o.r(p),o.d(p,{EstadisticasPageModule:()=>R});var h=o(177),b=o(4341),u=o(4742),r=o(8464),f=o(1547),y=o(8986),c=o(467),t=o(4438);function E(a,l){if(1&a){const s=t.RV6();t.j41(0,"div")(1,"my-table",4),t.bIt("selecting",function(n){t.eBV(s);const i=t.XpG();return t.Njj(i.selectingWithoutEmpresa(n))}),t.k0s(),t.nrm(2,"my-table",5),t.k0s()}if(2&a){const s=t.XpG();t.R7$(),t.Y8G("loadOnInit",!0)("canAddEntity",s.user.isAdmin)("canUpdateEntity",s.user.isAdmin)("tableResult","resultWithoutEmpresa")("tableResultCount","resultWithoutEmpresacount")("dataFromOut",s.resultWithoutEmpresa)("title","Resumen X mes")("entityName",s.entityName)("columns",s.columnsWithout)("refresh",s.tableRefresh)("withCache",!0),t.R7$(),t.Y8G("loadOnInit",!0)("canAddEntity",s.user.isAdmin)("canUpdateEntity",s.user.isAdmin)("tableResult","resultWithEmpresa")("tableResultCount","resultWithEmpresacount")("title","Resumen X Empresas")("entityName",s.entityName)("columns",s.columns)("refresh",s.tableRefresh)("dataFromOut",s.resultWithEmpresa)("withCache",!0)}}function v(a,l){if(1&a&&(t.j41(0,"div"),t.nrm(1,"my-table",6),t.k0s()),2&a){const s=t.XpG();t.R7$(),t.Y8G("loadOnInit",!0)("canAddEntity",s.user.isAdmin)("canUpdateEntity",s.user.isAdmin)("tableResult","resultFondosActivos")("tableResultCount","resultFondosActivoscount")("dataFromOut",s.resultFondosActivos)("title","Activos")("entityName",s.entityName)("columns",s.columnsFondosActivos)("refresh",s.tableRefresh)("withCache",!0)}}const g=[{path:"",component:(()=>{var a;class l extends r.BasePage{constructor(e){super(e),this.basePageService=e,this.addEmpresa=!1,this.columnsFondosActivos=[{name:"e",prop:"ab",type:"text"},{name:"Fi",prop:"fechainicio",type:"date"},{name:"Ff",prop:"fechafin",type:"date"},{name:"i",prop:"interes",type:"number"},{name:"i",prop:"importe",type:"number"}],this.columnsWithout=[{name:"F",prop:"fecha",type:"text"},{name:"f",prop:"fondo",type:"number",decimalNamber:"1.2-2"},{name:"l",prop:"letra",type:"number",decimalNamber:"1.2-2"},{name:"b",prop:"bolsa",type:"number",decimalNamber:"1.2-2"},{name:"t",prop:"total",type:"number",decimalNamber:"1.2-2"}],this.columns=[{name:"E",prop:"em",type:"text"},{name:"F",prop:"fecha",type:"text"},{name:"B",prop:"importe",type:"number",decimalNamber:"1.2-2"}],this.resultWithEmpresa=[],this.resultWithoutEmpresa=[],this.resultFondosActivos=[],this.buttonsTab={},this.entityName="finanzas/estadisticas"}ngOnInit(){var e=this;return(0,c.A)(function*(){e.Init(),e.buttonTab("resumenxmes")})()}handleRefresh(e){var n=this;return(0,c.A)(function*(){yield n.getEstadisticas(),e.target.complete()})()}getEstadisticas(){var e=this;return(0,c.A)(function*(){try{e.isLoading=!0;const n=new r.classHttp("get",e.entityName,null),i=yield e.myHttpService.ejecuteURL(n);i&&(e.resultWithoutEmpresa=null==i?void 0:i.resultWithoutEmpresa,e.resultFondosActivos=null==i?void 0:i.resultFondosActivos)}catch{}finally{e.isLoading=!1}})()}selectingWithoutEmpresa(e){var n=this;return(0,c.A)(function*(){const m=new r.classHttp("get",n.entityName,null,"getDetalle",null,{anno:e.anno,mes:e.mes}),d=yield n.myHttpService.ejecuteURL(m);n.resultWithEmpresa=null==d?void 0:d.resultWithEmpresa})()}buttonTab(e){for(const n in this.buttonsTab)this.buttonsTab[n]=!1;this.buttonsTab[e]||(this.buttonsTab[e]=!0),this.buttonsTab[e]=!0,this.getEstadisticas()}}return(a=l).\u0275fac=function(e){return new(e||a)(t.rXU(r.BasePageService))},a.\u0275cmp=t.VBU({type:a,selectors:[["estadisticas"]],features:[t.Vt3],decls:11,vars:8,consts:[["slot","fixed",3,"ionRefresh"],["slot","bottom"],[3,"click","selected"],[4,"ngIf"],[3,"selecting","loadOnInit","canAddEntity","canUpdateEntity","tableResult","tableResultCount","dataFromOut","title","entityName","columns","refresh","withCache"],[3,"loadOnInit","canAddEntity","canUpdateEntity","tableResult","tableResultCount","title","entityName","columns","refresh","dataFromOut","withCache"],[3,"loadOnInit","canAddEntity","canUpdateEntity","tableResult","tableResultCount","dataFromOut","title","entityName","columns","refresh","withCache"]],template:function(e,n){1&e&&(t.j41(0,"ion-refresher",0),t.bIt("ionRefresh",function(m){return n.handleRefresh(m)}),t.nrm(1,"ion-refresher-content"),t.k0s(),t.j41(2,"ion-tab-bar",1)(3,"ion-tab-button",2),t.bIt("click",function(){return n.buttonTab("resumenxmes")}),t.nrm(4,"icon-remixicon"),t.EFF(5," Resumen X mes "),t.k0s(),t.j41(6,"ion-tab-button",2),t.bIt("click",function(){return n.buttonTab("fondosactivos")}),t.nrm(7,"icon-remixicon"),t.EFF(8," Fondos Activos "),t.k0s()(),t.DNE(9,E,3,22,"div",3)(10,v,2,11,"div",3)),2&e&&(t.R7$(3),t.Y8G("selected",n.buttonsTab.resumenxmes),t.R7$(),t.HbH("ri-line-chart-line"),t.R7$(2),t.Y8G("selected",n.buttonsTab.fondosactivos),t.R7$(),t.HbH("ri-bar-chart-box-ai-fill"),t.R7$(2),t.Y8G("ngIf",n.buttonsTab.resumenxmes),t.R7$(),t.Y8G("ngIf",n.buttonsTab.fondosactivos))},dependencies:[h.bT,u.To,u.Ki,u.Jq,u.qW,r.MyTableComponent,r.IconremixiconComponent],styles:[".tab-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;width:100%}"]}),l})()}];let R=(()=>{var a;class l{}return(a=l).\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.$C({type:a}),a.\u0275inj=t.G2t({imports:[h.MD,b.YN,b.X1,u.bv,y.iI.forChild(g),r.SharedComponentsModule,f.bG,r.IconremixiconComponentModule]}),l})()}}]);