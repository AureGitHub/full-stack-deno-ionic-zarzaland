"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3454],{3454:(T,_,u)=>{u.r(_),u.d(_,{ApuestaPagePageModule:()=>E});var p=u(6814),d=u(95),l=u(2511),s=u(4258),f=u(3044),r=u(5861),e=u(6689);function A(n,c){if(1&n&&(e.TgZ(0,"ion-item")(1,"ion-label"),e._uU(2),e.qZA()()),2&n){const i=e.oxw(2);e.xp6(2),e.hij("Jugadores en Rojo: ",i.totalRojos," ")}}function h(n,c){if(1&n){const i=e.EpF();e.TgZ(0,"ion-item")(1,"base-button-guardar",3),e.NdJ("click",function(){e.CHM(i);const a=e.oxw(2);return e.KtG(a.cerrarApuesta())}),e.qZA()()}if(2&n){const i=e.oxw(2);e.xp6(1),e.Q6J("label","Cerrar Apuesta")("valid",!0)("isSaving",i.isClosing)}}function v(n,c){if(1&n&&(e.TgZ(0,"ion-item")(1,"ion-label"),e._uU(2),e.ALo(3,"number"),e.qZA()()),2&n){const i=e.oxw(2);e.xp6(2),e.hij("Jugado: ",e.lcZ(3,1,null==i.apuesta?null:i.apuesta.apostado)," ")}}function b(n,c){if(1&n){const i=e.EpF();e.TgZ(0,"ion-item")(1,"ion-input",4),e.NdJ("ngModelChange",function(a){e.CHM(i);const o=e.oxw(2);return e.KtG(o.ganado=a)}),e.qZA()()}if(2&n){const i=e.oxw(2);e.xp6(1),e.Q6J("ngModel",i.ganado)}}function y(n,c){if(1&n){const i=e.EpF();e.TgZ(0,"ion-item")(1,"base-button-guardar",5),e.NdJ("click",function(){e.CHM(i);const a=e.oxw(2);return e.KtG(a.finalizarApuesta())}),e.qZA()()}if(2&n){const i=e.oxw(2);e.xp6(1),e.Q6J("valid",i.ganado)("label","Finalizar Apuesta")("valid",!0)("isSaving",i.isClosing)}}function x(n,c){if(1&n){const i=e.EpF();e.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e._uU(3),e.ALo(4,"date"),e.qZA()(),e.TgZ(5,"ion-card-content")(6,"ion-list")(7,"ion-item")(8,"ion-label"),e._uU(9),e.qZA()(),e.YNc(10,A,3,1,"ion-item",1),e.YNc(11,h,2,3,"ion-item",1),e.YNc(12,v,4,3,"ion-item",1),e.YNc(13,b,2,1,"ion-item",1),e.YNc(14,y,2,4,"ion-item",1),e.qZA()(),e._UZ(15,"br")(16,"br"),e.TgZ(17,"base-button-cancelar",2),e.NdJ("click",function(){e.CHM(i);const a=e.oxw();return e.KtG(a.cancel())}),e.qZA()()}if(2&n){const i=e.oxw();e.xp6(3),e.hij("Apuesta : ",e.xi3(4,7,null==i.apuesta?null:i.apuesta.fecha,"dd/MM/yyyy"),""),e.xp6(6),e.hij("Estado : ",null==i.apuesta?null:i.apuesta.estado," "),e.xp6(1),e.Q6J("ngIf",1==i.estadoid),e.xp6(1),e.Q6J("ngIf",1==i.estadoid),e.xp6(1),e.Q6J("ngIf",2==i.estadoid),e.xp6(1),e.Q6J("ngIf",2==i.estadoid),e.xp6(1),e.Q6J("ngIf",2==i.estadoid)}}var g=function(n){return n[n.abierta=1]="abierta",n[n.cerrada=2]="cerrada",n[n.finalizada=3]="finalizada",n}(g||{});let C=(()=>{var n;class c{set SetApuesta(t){if(t&&(this.apuesta=t,this.estadoid=this.apuesta.estadoid,this.apuesta.estadoid==g.abierta)){const a=new s.classHttp("get","User",null,"InRed");this.myHttpService.ejecuteURL(a).then(o=>{this.totalRojos=o.total})}}constructor(t,a){this.myHttpService=t,this.utilService=a,this.estadoid=null,this.saveEvent=new e.vpe,this.cancelEvent=new e.vpe,this.isClosing=!1}ngOnInit(){}finalizarApuesta(){var t=this;return(0,r.Z)(function*(){t.isClosing=!0;try{const a=new s.classHttp("put","Apuesta",null,"finalizar",{apostado:t.apuesta.apostado,ganado:t.ganado},t.apuesta.id),o=yield t.myHttpService.ejecuteURL(a);t.isClosing=!1,o&&(t.apuesta=null,t.saveEvent.emit(!0))}catch{t.isClosing=!1}})()}cerrarApuesta(){var t=this;return(0,r.Z)(function*(){t.isClosing=!0;try{const a=new s.classHttp("put","Apuesta",null,"cerrar",null,t.apuesta.id),o=yield t.myHttpService.ejecuteURL(a);t.isClosing=!1,o&&(t.apuesta=null,t.saveEvent.emit(!0))}catch{t.isClosing=!1}})()}cancel(){this.apuesta=null,this.cancelEvent.emit(!0)}}return(n=c).\u0275fac=function(t){return new(t||n)(e.Y36(s.MyHttpService),e.Y36(s.UtilService))},n.\u0275cmp=e.Xpm({type:n,selectors:[["gestion-apuesta"]],inputs:{SetApuesta:"SetApuesta"},outputs:{saveEvent:"saveEvent",cancelEvent:"cancelEvent"},decls:2,vars:1,consts:[[3,"isOpen","willDismiss"],[4,"ngIf"],[3,"click"],[3,"label","valid","isSaving","click"],["type","number","placeholder","ganado",3,"ngModel","ngModelChange"],[3,"valid","label","isSaving","click"]],template:function(t,a){1&t&&(e.TgZ(0,"ion-modal",0),e.NdJ("willDismiss",function(){return a.cancel()}),e.YNc(1,x,18,10,"ng-template"),e.qZA()),2&t&&e.Q6J("isOpen",null!=a.apuesta)},dependencies:[p.O5,d.JJ,d.On,l.PM,l.FN,l.Zi,l.Dq,l.pK,l.Ie,l.Q$,l.q_,l.ki,l.as,s.ButtonGuardarComponent,s.ButtonCancelarComponent,p.JJ,p.uU],styles:["ion-checkbox[_ngcontent-%COMP%]{--size: 32px;--checkbox-background-checked: #6815ec}ion-checkbox[_ngcontent-%COMP%]::part(container){border-radius:6px;border:2px solid #6815ec}"]}),c})();const Z=[{path:"",component:(()=>{var n;class c extends s.BasePage{onLoadDataEmiter(t){}constructor(t,a,o){super(t,o),this.myHttpService=t,this.utilService=a,this.seguridadService=o,this.a="",this.selectedApuesta=null,this.columns=[],this.entityName="Apuesta"}handleImage(t){this.webcamImage=t}ngOnInit(){var t=this;return(0,r.Z)(function*(){console.log("entra"),t.Init(),t.columns=[{name:"F",prop:"fecha",type:"date",OrderInit:"DESC"},{name:"A",prop:"apostado",type:"number"},{name:"G",prop:"ganado",type:"number"},{name:"B",prop:"boletoid",type:"file",fileid:"boletoid fileid",filename:"boletoid filename"},{name:"Estado",prop:"estado",type:"action",action:"actionApuesta",canAction:t.user.isAdmin,filterInit:t.user.isAdmin?"":` uxa.userid = ${t.user.id}`}]})()}actionEmiter(t){var a=this;return(0,r.Z)(function*(){"actionApuesta"===(null==t?void 0:t.action)&&(a.selectedApuesta=t.row,console.log(t.row.boleto))})()}updatependientesAll(){var t=this;return(0,r.Z)(function*(){try{const a=new s.classHttp("put",t.entityName,null,"updatependientesAll",{});(yield t.myHttpService.ejecuteURL(a))&&(t.utilService.message(s.typeMessage.success,"Guardado correctamente"),t.getTableRefresh())}catch{}})()}}return(n=c).\u0275fac=function(t){return new(t||n)(e.Y36(s.MyHttpService),e.Y36(s.UtilService),e.Y36(s.SeguridadService))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-apuesta"]],features:[e.qOj],decls:6,vars:8,consts:[[1,"router-outlet"],[3,"loadOnInit","canAddEntity","canUpdateEntity","title","entityName","columns","refresh","actionEmiter","onLoadDataEmiter"],[3,"SetApuesta","saveEvent","cancelEvent"]],template:function(t,a){1&t&&(e.TgZ(0,"ion-grid",0),e._uU(1," Aure Prueba "),e.TgZ(2,"ion-row")(3,"ion-col")(4,"my-table",1),e.NdJ("actionEmiter",function(m){return a.actionEmiter(m)})("onLoadDataEmiter",function(m){return a.onLoadDataEmiter(m)}),e.qZA()()()(),e.TgZ(5,"gestion-apuesta",2),e.NdJ("saveEvent",function(){return a.getTableRefresh()})("cancelEvent",function(){return a.selectedApuesta=null}),e.qZA()),2&t&&(e.xp6(4),e.Q6J("loadOnInit",!0)("canAddEntity",a.user.isAdmin)("canUpdateEntity",a.user.isAdmin)("title","Apuestas")("entityName",a.entityName)("columns",a.columns)("refresh",a.tableRefresh),e.xp6(1),e.Q6J("SetApuesta",a.selectedApuesta))},dependencies:[l.wI,l.jY,l.Nd,s.MyTableComponent,C]}),c})()}];let E=(()=>{var n;class c{}return(n=c).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,d.u5,d.UX,l.Pc,f.Bz.forChild(Z),s.SharedComponentsModule]}),c})()}}]);