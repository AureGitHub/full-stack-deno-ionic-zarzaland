import{a as q}from"./chunk-KJEV6NA2.js";import{B as f,Db as O,Dc as J,E as p,Eb as P,Ec as j,F as i,Fa as M,G as o,H as s,Hc as R,Kb as S,Lb as b,M as _,Mb as A,O as l,Ob as k,Oc as Z,P as u,Ub as w,Z as c,_b as y,dc as I,ec as T,gc as z,jc as L,kc as V,l as d,lc as U,m,qc as H,ra as v,rc as D,s as h,v as g,va as x,vc as E,x as C,zc as G}from"./chunk-EENDQBIP.js";import"./chunk-BNIJ3X2T.js";import"./chunk-TQJFVUNX.js";import"./chunk-XZGK7ZA7.js";import"./chunk-IPOTPHHM.js";import"./chunk-HXT7NW3W.js";import"./chunk-C7ZOD4DU.js";import"./chunk-EUTKHXLC.js";import"./chunk-KA7FWHEC.js";import"./chunk-CXNJJW2I.js";import"./chunk-CO3DYFKM.js";import"./chunk-RF7KNEQE.js";import"./chunk-J54ZEZCO.js";import"./chunk-HOU3Z2GS.js";import"./chunk-BYQAMOC3.js";import"./chunk-VXHG3QIR.js";import"./chunk-MTTA6DDO.js";import"./chunk-CNPXEUJC.js";import"./chunk-EMYUXUF4.js";import"./chunk-Y4PFSAAR.js";import"./chunk-TVOMSU7V.js";import"./chunk-2YWV2TBO.js";import"./chunk-GEK2GCCQ.js";import"./chunk-JZGUXWEV.js";import"./chunk-U7BNZF35.js";import"./chunk-7A6E5OXO.js";import"./chunk-WMMW5CXS.js";import"./chunk-JHI3MBHO.js";function N(r,e){if(r&1){let t=_();i(0,"ion-col",9)(1,"ion-card",15),l("click",function(){d(t);let a=u(2);return m(a.onUserManagementClick())}),i(2,"ion-card-content"),s(3,"ion-icon",16),i(4,"h3"),c(5,"Control de usuarios"),o()()()()}}function B(r,e){if(r&1){let t=_();i(0,"div",7)(1,"ion-grid")(2,"ion-row",8)(3,"ion-col",9)(4,"ion-card",10),l("click",function(){d(t);let a=u();return m(a.onPropertyManagementClick())}),i(5,"ion-card-content"),s(6,"ion-icon",11),i(7,"h3"),c(8,"Gesti\xF3n de Propiedades"),o()()()(),i(9,"ion-col",9)(10,"ion-card",12),l("click",function(){d(t);let a=u();return m(a.onRentalManagementClick())}),i(11,"ion-card-content"),s(12,"ion-icon",13),i(13,"h3"),c(14,"Gesti\xF3n de arriendo"),o()()()(),f(15,N,6,0,"ion-col",14),o()()()}if(r&2){let t=u();h(15),p("ngIf",t.isAdmin)}}var F=class r{constructor(e,t,n){this.router=e;this.authService=t;this.pageTitleService=n;T({"home-outline":D,"business-outline":L,"people-outline":G,"analytics-outline":z,"log-in-outline":E,"settings-outline":R,"checkmark-circle-outline":U,"phone-portrait-outline":j,"headset-outline":H,"person-outline":J,"card-outline":V})}isAuthenticated=!1;isAdmin=!1;authSubscription;userSubscription;layoutConfig={showHeader:!0,showFooter:!0,headerTitle:"Alquiler ZarZa",headerSubtitle:"Gesti\xF3n de propiedades de alquiler",footerText:"Alquiler ZarZa \xA9 2025",showBackButton:!1,showMenuButton:!1,showUserProfile:!0,color:"primary"};showToast=!1;toastMessage="";toastColor="success";ngOnInit(){console.log("Home page loaded"),this.pageTitleService.clearTitle(),this.isAuthenticated=this.authService.isLoggedIn(),this.isAdmin=this.isAuthenticated?this.authService.isAdmin():!1;let e=this.authService.getCurrentUser();console.log("\u{1F3E0} Estado inicial home - isAuthenticated:",this.isAuthenticated,"isAdmin:",this.isAdmin,"user:",e),this.checkAuthentication()}ngOnDestroy(){this.authSubscription&&this.authSubscription.unsubscribe(),this.userSubscription&&this.userSubscription.unsubscribe()}checkAuthentication(){this.authSubscription=this.authService.isLogin$.subscribe(e=>{this.isAuthenticated=e,this.isAdmin=e?this.authService.isAdmin():!1,console.log("\u{1F510} Estado auth actualizado - isAuthenticated:",this.isAuthenticated,"isAdmin:",this.isAdmin)}),this.userSubscription=this.authService.currentUser$.subscribe(e=>{this.isAdmin=e?this.authService.isAdmin():!1,console.log("\u{1F464} Usuario actualizado en home - user:",e,"isAdmin:",this.isAdmin)})}goToAuth(){this.isAuthenticated?this.goToUserManagement():this.showToastMessage("Por favor, inicia sesi\xF3n usando el bot\xF3n de perfil en el header","primary")}goToUserManagement(){this.router.navigate(["/user-management"])}onMenuClick(){this.showToastMessage("Men\xFA clickeado","primary")}onBackClick(){}onUserProfileClick(){this.showToastMessage("Perfil de usuario clickeado","secondary")}showToastMessage(e,t="success"){this.toastMessage=e,this.toastColor=t,this.showToast=!0}onPropertyManagementClick(){this.router.navigate(["/gestion-propiedades"])}onRentalManagementClick(){this.router.navigate(["/ver-gestion-alquiler"])}onUserManagementClick(){this.router.navigate(["/control-usuario"])}debugLogin(){console.log("\u{1F9EA} Simulando login de prueba...");let e={id:1,first_name:"Admin",last_name:"Test",email:"admin@test.com",user_type:"admin",created_at:new Date().toISOString()},t="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOjEsImVtYWlsIjoiYWRtaW5AdGVzdC5jb20iLCJ1c2VyX3R5cGUiOiJhZG1pbiIsImV4cCI6MTczMTIzNDAwMH0.test";localStorage.setItem("auth_isLogin","true"),localStorage.setItem("auth_token",t),localStorage.setItem("auth_user",JSON.stringify(e)),this.authService.login(),this.isAuthenticated=this.authService.isLoggedIn(),this.isAdmin=this.isAuthenticated?this.authService.isAdmin():!1,console.log("\u2705 Login de prueba completado"),this.showToastMessage("Login de prueba realizado","success")}debugLogout(){console.log("\u{1F9EA} Haciendo logout..."),this.authService.logout(),this.isAuthenticated=this.authService.isLoggedIn(),this.isAdmin=this.isAuthenticated?this.authService.isAdmin():!1,console.log("\u2705 Logout completado"),this.showToastMessage("Logout realizado","warning")}debugCheckState(){console.log("\u{1F9EA} Verificando estado actual..."),console.log("\u{1F4BE} localStorage:",{auth_isLogin:localStorage.getItem("auth_isLogin"),auth_token:localStorage.getItem("auth_token"),auth_user:localStorage.getItem("auth_user")}),console.log("\u{1F510} AuthService:",{isAuthenticated:this.authService.isAuthenticated(),currentUser:this.authService.getCurrentUser(),hasToken:!!this.authService.getToken(),isAdmin:this.authService.isAdmin()}),this.showToastMessage("Ver consola para detalles del estado","primary")}static \u0275fac=function(t){return new(t||r)(g(M),g(Z),g(q))};static \u0275cmp=C({type:r,selectors:[["app-home"]],decls:11,vars:5,consts:[[1,"app-alquiler-content"],[1,"hero-section"],[1,"hero-content"],["name","home-outline",1,"hero-icon"],["class","features-section",4,"ngIf"],[2,"height","100px"],["position","bottom",3,"didDismiss","isOpen","message","duration","color"],[1,"features-section"],[1,"ion-justify-content-center"],["size","12","size-md","4"],[1,"feature-card","property-card",3,"click"],["name","business-outline","color","primary",1,"feature-icon"],[1,"feature-card","rental-card",3,"click"],["name","card-outline","color","tertiary",1,"feature-icon"],["size","12","size-md","4",4,"ngIf"],[1,"feature-card","admin-card",3,"click"],["name","people-outline","color","secondary",1,"feature-icon"]],template:function(t,n){t&1&&(i(0,"ion-content",0)(1,"div",1)(2,"div",2),s(3,"ion-icon",3),i(4,"h1"),c(5,"Alquiler ZarZa"),o(),i(6,"p"),c(7,"Gesti\xF3n arriendos de Felipe"),o()()(),f(8,B,16,1,"div",4),s(9,"div",5),i(10,"ion-toast",6),l("didDismiss",function(){return n.showToast=!1}),o()()),t&2&&(h(8),p("ngIf",n.isAuthenticated),h(2),p("isOpen",n.showToast)("message",n.toastMessage)("duration",3e3)("color",n.toastColor))},dependencies:[x,v,I,O,P,S,b,A,k,w,y],styles:["[_nghost-%COMP%]     ion-content{--overflow: auto !important;overflow-y:auto!important;touch-action:pan-y!important}.hero-section[_ngcontent-%COMP%]{padding:12px 8px;text-align:center;background:#fff;border-radius:16px;margin-bottom:0;min-height:60px}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.7rem;font-weight:700;margin:12px 0;color:#1976d2}.hero-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;opacity:.9;max-width:600px;margin:0 auto;line-height:1.4;color:#1976d2}.hero-icon[_ngcontent-%COMP%]{font-size:2.5rem;color:#1976d2}.features-section[_ngcontent-%COMP%]{padding:10px 20px 30px;background:#fff;overflow-y:auto;max-height:100vh}.feature-card[_ngcontent-%COMP%]{text-align:center;border-radius:12px;box-shadow:0 2px 8px #00000014;cursor:pointer;transition:all .3s ease;min-height:100px;height:100px;width:100%;max-width:220px;margin:6px auto;display:flex;flex-direction:column;justify-content:center}.feature-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 25px #00000026;background:var(--ion-color-light-tint)}.admin-card[_ngcontent-%COMP%]{background:#ffeaea!important}.rental-card[_ngcontent-%COMP%]{background:#eaffea!important}.property-card[_ngcontent-%COMP%]{background:#eaf4ff!important}.feature-icon[_ngcontent-%COMP%]{font-size:1.4rem;margin-bottom:6px;transition:all .3s ease}.feature-card[_ngcontent-%COMP%]:hover   .feature-icon[_ngcontent-%COMP%]{transform:scale(1.1);filter:brightness(1.2)}.feature-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--ion-color-dark);margin:8px 0 4px;font-weight:600;font-size:1rem;transition:color .3s ease}.feature-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);line-height:1.3;font-size:.9rem;transition:color .3s ease}.feature-card[_ngcontent-%COMP%]:hover   h3[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.feature-card[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:var(--ion-color-dark)}.cta-section[_ngcontent-%COMP%]{padding:40px 20px;background:var(--ion-color-light)}.cta-card[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 6px 20px #0000001a}.cta-content[_ngcontent-%COMP%]{text-align:center;padding:40px 20px}.cta-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--ion-color-dark);margin-bottom:16px;font-weight:600}.cta-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin-bottom:30px;font-size:1.1rem}.cta-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;max-width:300px;margin:0 auto}.info-section[_ngcontent-%COMP%]{padding:40px 20px;background:#fff}.info-section[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 20px;--inner-padding-end: 20px;margin:10px 0;border-radius:12px;--background: var(--ion-color-light)}.info-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--ion-color-dark);font-weight:600;margin-bottom:4px}.info-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:.9rem}@media (max-width: 768px){.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.hero-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.cta-buttons[_ngcontent-%COMP%]{max-width:100%}}"]})};export{F as HomePage};
